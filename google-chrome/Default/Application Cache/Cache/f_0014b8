PNa.prototype.Dt=ZO(34,g("C"));qz.prototype.Dt=ZO(33,function(){return V(this,2)});function TWd(a){a.O=!0;return a}var UWd=[2];function VWd(a){Tf(this,a,0,-1,UWd,null)}x(VWd,Sf);function C3(a){Tf(this,a,0,-1,null,null)}x(C3,Sf);C3.prototype.Dt=function(){return F(this,1)};C3.prototype.NX=function(){return F(this,2)};function WWd(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}
function XWd(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function YWd(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}function ZWd(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function $Wd(a){Tf(this,a,0,-1,null,null)}x($Wd,Sf);$Wd.prototype.N5=function(){return F(this,1)};$Wd.prototype.NX=function(){return F(this,2)};
function aXd(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function bXd(a){At.call(this);this.O=a;zq(this,"Turn on offline for all files?");a=new Lq;Qq(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Qq(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Oq(this,a);Nq(this,!1);this.Ci=this.Or=!0;a=new RR;Aq(this,fr(Rzc(a,aXd)));this.C=this.F=null}x(bXd,At);
bXd.prototype.Za=function(){bXd.oa.Za.call(this);br(this,this.D.Qu);this.F=Ee(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=Ee(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().R(this,"dialogselect",this.J).Sc(this.F,"click",this.L)};bXd.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};bXd.prototype.L=function(){Kh(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function cXd(a,b,c){E.call(this);this.F=a;this.Aa=b;this.O=c;this.V=new oq(this.O,aBa(),this);this.V.R(oya,this.$).R(cya,this.ma).R(fya,this.D);this.L=wf();this.J=this.C=null;this.H=!1;this.D()}x(cXd,E);cXd.prototype.$=function(a){a=Zf(a,mya,1);for(var b=0;b<a.length;b++){var c=a[b].Cz(sya);if(c&&F(c,1)==this.F){this.D();break}}};cXd.prototype.ma=function(a){F(a,1)==this.F&&this.D()};
cXd.prototype.D=function(){dXd(this.Aa,[this.F]).then(function(a){var b=!1,c=!1;1==a.length&&(c=a[0],b=c.lDa(),c=F(c,8));var d=a=!1;this.H&&(a=this.C!=b,d=this.J!=c);this.C=b;this.J=c;a&&this.dispatchEvent("Cf");d&&this.dispatchEvent("Df");this.H||(this.H=!0,this.L.resolve())}.bind(this))};function eXd(){E.call(this);this.C=3;this.D=null;this.F=!1;this.H=wf()}x(eXd,E);eXd.prototype.uB=g("D");function fXd(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.H.resolve();a.dispatchEvent("Ef")}function gXd(a){if(!a.D)return!1;a=a.D.Dt();return 1==a||6==a}eXd.prototype.N5=g("C");function D3(a){Tf(this,a,0,-1,null,null)}x(D3,Sf);D3.prototype.getType=function(){return F(this,1)};D3.prototype.setType=function(a){G(this,1,a)};function hXd(a){Tf(this,a,0,-1,null,null)}x(hXd,Sf);hXd.prototype.getType=function(){return F(this,1)};hXd.prototype.setType=function(a){G(this,1,a)};hXd.prototype.bK=function(){return Yf(this,iXd,2)};function iXd(a){Tf(this,a,0,-1,null,null)}x(iXd,Sf);iXd.prototype.getType=function(){return F(this,1)};iXd.prototype.setType=function(a){G(this,1,a)};
iXd.prototype.getErrorMessage=function(){return F(this,2)};function jXd(a){Tf(this,a,0,-1,kXd,null)}x(jXd,Sf);var kXd=[1];function lXd(a){Tf(this,a,0,-1,mXd,null)}x(lXd,Sf);var mXd=[1];function nXd(a){Tf(this,a,0,-1,null,null)}x(nXd,Sf);nXd.prototype.H=function(){return Yf(this,$Wd,1)};function oXd(a){Tf(this,a,0,-1,null,null)}x(oXd,Sf);oXd.prototype.uB=function(){return Yf(this,C3,1)};function pXd(a){Tf(this,a,0,-1,null,null)}x(pXd,Sf);function qXd(a){Tf(this,a,0,-1,null,null)}x(qXd,Sf);
qXd.prototype.uB=function(){return Yf(this,C3,1)};function rXd(a){Tf(this,a,0,-1,null,null)}x(rXd,Sf);p=rXd.prototype;p.getId=function(){return F(this,1)};p.vf=function(a){G(this,1,a)};p.getTitle=function(){return F(this,2)};p.Tp=function(){return F(this,3)};p.lDa=function(){return F(this,7)};function sXd(a){Tf(this,a,0,-1,tXd,null)}x(sXd,Sf);var tXd=[1];sXd.prototype.lDa=function(){return F(this,2)};function uXd(a){Tf(this,a,0,-1,null,null)}x(uXd,Sf);
uXd.prototype.getId=function(){return F(this,1)};uXd.prototype.vf=function(a){G(this,1,a)};uXd.prototype.getType=function(){return F(this,2)};uXd.prototype.setType=function(a){G(this,2,a)};function vXd(a,b,c,d,e,f,h,k,l){A.call(this);this.Ra=a;this.Wa=b;this.jb=c;this.H=d;this.D=e;this.wb=k;this.Aa=new Qp;this.cb=new Rh(this);this.xa(this.cb);this.bb=a.C;this.$=f;this.ib=h;this.J=this.C=null;this.F=l;this.O=wu(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.ma=wu(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.V=wu(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=wu(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0);wXd(this)}x(vXd,A);function wXd(a){vf([a.D.H.C,a.H.L.C]).then(function(){K.Zv.subscribe("action",a.ZGa,a);a.cb.R(a.H,"Cf",a.kxb).R(a.H,"Df",a.Fvb).R(a.D,"Ef",a.Hvb);xXd(a);K.Zv.setVisible(Nf)})}p=vXd.prototype;p.ZGa=function(){yXd(this)};
function yXd(a){return qxa(a.Aa).then(function(){if(Jp()){if(1==a.D.C)return zXd(a);gXd(a.D)?AXd(a):BXd(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=Qq(Qq(new Lq,{key:"ok",caption:"Install"},!0),Tq,!1,!0),c=a.$,d=gzc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.C7a,null,a,void 0,b,void 0);c.Eh(d);d.focus();a.J=d;br(a.J,b.Qu)}})}
p.C7a=function(){var a=this;this.Aa.install().then(function(){return yXd(a)},function(b){b=Ye(b);a.wb.hd(b);Vwa(b)})};function zXd(a){var b=!K.Zv.Ld();return yf((new qf(function(b){var c=a.bb;Sl(c.C,8192)?b():(bo(c.J,c.Aa,Re(b)),c.create())})).then(function(){var c=new uXd;c.vf(a.Ra.tc());c.setType(a.Wa);return CXd(a.jb,[c],b)}),function(b){BXd(a,a.V);a.wb.log(Ye(b))})}function DXd(a){yf(EXd(a.ib),function(b){a.wb.log(Ye(b))}).then(function(){if(1==a.D.C)return zXd(a);BXd(a,a.L)})}
function AXd(a){a.C||(a.C=new bXd(function(){return DXd(a)}),a.$.Eh(a.C),a.cb.R(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.kxb=function(){xXd(this);FXd(this);this.H.C||BXd(this,this.ma)};p.Fvb=function(){FXd(this)};p.Hvb=function(){xXd(this)};function FXd(a){var b;if(b=1==a.D.C)b=a.H.J;b&&a.H.C&&BXd(a,a.O)}function BXd(a,b){b.Sb()||b.render();a.O.setVisible(!1);a.ma.setVisible(!1);a.V.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function xXd(a){K.Zv.mb(1==a.D.C||gXd(a.D));K.Zv.wc(a.H.C)}p.Xa=function(){K.Zv.unsubscribe("action",this.ZGa,this);this.C&&(yG(this.$,this.C),C(this.C));this.J&&(yG(this.$,this.J),C(this.J));vXd.oa.Xa.call(this);yu(this.F,this.O);yu(this.F,this.ma);yu(this.F,this.V);yu(this.F,this.L);Db(this.O,this.ma,this.V,this.L)};function GXd(a,b){this.a9=a;this.jN=b};function HXd(a,b,c,d,e){A.call(this);this.wb=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new EAa;this.J=c;this.D=null;this.F=new $n;this.xa(this.F);this.C=IXd(this)}x(HXd,A);function IXd(a){a.C&&C(a.C);var b=xh(H(),"lssv");return new JAa(a.wb,a.O,0,a.N4a.bind(a),b,!0,a.J,new Aza)}function JXd(a){a.D||(a.D=KXd(a),yf(a.D,function(a){this.G$();throw a;}.bind(a)));return a.D}
function LXd(a){return JXd(a).then(function(a){return(new qf(function(b,d){Xva(a.pQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==yh(H(),"docs-offline-lsuid")?new GXd(a,b[0]):null}.bind(this))}.bind(a))}p=HXd.prototype;p.get=function(){return LXd(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.a9})};function KXd(a){return(new qf(function(a,c){Cf(this.C.create(this.G$.bind(this)),a,c)}.bind(a))).then(a.vtb.bind(a))}
p.vtb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new uya(a,this.H);this.xa(c)}Jua(a);ao(this.F,a.C.C.H,function(){b.G$()});ao(this.F,a.C.O,function(){b.G$()});return a};p.G$=function(){C(this.C);this.C=IXd(this);this.D=null};p.N4a=function(a){return $ya(this.L,a)};p.Xa=function(){C(this.C);HXd.oa.Xa.call(this)};function MXd(a){this.D=a}MXd.prototype.C=function(a){var b=new hKc;jKc(b,a.serialize());this.D.log(b);this.D.H()};function NXd(a){this.D=a}NXd.prototype.C=function(a){var b=new hKc;jKc(b,a.serialize());this.D.log(b);return new qf(function(a,b){this.D.flush(a,b)}.bind(this))};function OXd(a){this.D=a}OXd.prototype.C=function(a,b,c){LXd(this.D).then(v(function(d){d?(new Kac(d.a9,"offline",null)).C(a,b,c):b()},this))};function PXd(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(xr({id:"docs-offline-optinpromo-confirm-close",content:pr("Close")},c||b));return P(a+"</div></div>")};function QXd(a){E.call(this);this.Db=a||Qd();this.cb=new Rh(this);this.xa(this.cb);this.C=new Tr(a);this.C.Yz(!1);Xk(this.C.D,!1);this.C.Gd("docs-offline-optinpromo");this.C.render();a=this.C.qb();ye(a,!0);Ch(a,"dialog");Dh(a,"labelledby","docs-offline-optinpromo-title");Dh(a,"describedby","docs-offline-optinpromo-description");this.xa(this.C);this.L=new yr(null);this.xa(this.L);this.J=new yr(null);this.xa(this.J);this.H=new yr(null);this.xa(this.H);this.O=this.F=this.D=null;RXd(this,SXd)}x(QXd,E);
function SXd(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(xr({id:"docs-offline-optinpromo-optin",content:pr("Turn on offline access"),style:2},b));a+=O(xr({id:"docs-offline-optinpromo-decline",content:pr("No thanks"),style:0},b));return P(a+"</div>")}
function RXd(a,b){var c=N(b);a.C.setContent(c);switch(b){case SXd:a.cb.R(a.C,"show",a.zxb);b=a.Db.getElement("docs-offline-optinpromo-optin");a.L.yb(b);a.cb.Sc(a.L,"action",v(a.gwb,a));b=a.Db.getElement("docs-offline-optinpromo-decline");a.J.yb(b);a.cb.Sc(a.J,"action",v(a.nnb,a));a.D=a.Db.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.Db.getElement("docs-offline-optinpromo-link-show-less");a.O=a.Db.getElement("docs-offline-optinpromo-learn-more-container");a.cb.R(a.D,"click",v(a.zQa,
a,!0)).R(a.F,"click",v(a.zQa,a,!1));break;case PXd:b=a.Db.getElement("docs-offline-optinpromo-confirm-close");a.H.yb(b);a.cb.Sc(a.H,"action",v(a.show,a,!1));a.C.qb().focus();break;default:throw Error("Cannot handle state "+b);}a.Db.getElement("docs-offline-optinpromo-title");a.Db.getElement("docs-offline-optinpromo-description")}p=QXd.prototype;p.zQa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.gwb=function(){this.dispatchEvent(new D("Gf"))};p.nnb=function(){this.dispatchEvent(new D("Hf"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("If"))};p.zxb=function(){this.C.qb().focus();this.dispatchEvent(new D("Ff"))};function TXd(a,b){this.L=a;this.H=b}function UXd(a){return VXd(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new C3;G(a,1,1);return a},a.J.bind(a))}TXd.prototype.J=function(a){if(a instanceof C3)return a;if(a instanceof Error)throw a;throw Error(a);};
function VXd(a){var b=new C3;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return tf();case 4:return G(b,1,3),a=a.NX(),G(b,2,a),uf(b);case 1:return G(b,1,2),uf(b);case 5:return G(b,1,4),uf(b);default:throw Error("Unexpected enabled state: "+c);}})}TXd.prototype.D=function(){return(new qf(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return tf();a=new C3;G(a,1,5);return uf(a)})};TXd.prototype.C=function(){if(Jp())return tf();var a=new C3;G(a,1,6);return uf(a)};
TXd.prototype.F=function(){var a=xh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new qf(function(b,c){yTa(function(d,e){e>a?b():(d=new C3,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function WXd(a,b,c){this.D=a;this.C=c||null}WXd.prototype.NX=g("C");function XXd(a,b){this.C=a;this.wb=b}XXd.prototype.get=function(){return LXd(this.C).then(function(a){return a?new WXd(1,a.jN.getId(),a.jN.xF(),YXd(this)):JXd(this.C).then(function(a){return(new qf(function(b,d){Xva(a.pQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new WXd(4,a.getId(),a.xF());else throw Error("More than one user in store: "+a.length);else a=WWd()?new WXd(2):eq()?new WXd(5):new WXd(3);return a}.bind(this))}.bind(this))}.bind(this))};
function YXd(a){a=new eUa(a.wb);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new cv("metadata-sync",0,!0,new bv(1,pq(),ev("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new cv("service-worker-update",0,!0,new bv(2,jBa(),ev("service_worker_update"),3E5,!0,!1)),tTa());I(b,"docs-offline-edswut")&&d.push(new cv("drive-service-worker",0,!0,new bv(2,kBa(yh(H(),"drdn"),"/drive/serviceworker/update",!0),ev("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new cv("homescreen-cello-sync",xh(H(),"docs-offline-scstpim"),!0,new bv(2,kBa(ll(la.location.href),"/document/backgroundsync"),new dv,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new cv("drive-cello-sync",xh(H(),"docs-offline-scstpim"),!0,new bv(2,kBa(yh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new dv,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new cv("local-changes-sync",0,!1,new bv(1,pq(),ev("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new cv("auto-sync",xh(H(),"docs-offline-sastpim"),!1,new bv(1,pq(),ev("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new cv("webfonts-sync",0,!0,new bv(1,pq(),ev("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new cv("impression-sync",0,!1,new bv(1,pq(),ev("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new cv("document-deletion",0,!1,new bv(1,pq(),ev("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new cv("update-unsaved-changes",
0,!1,new bv(2,jBa(),ev("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new cv("cleanup-task",0,!1,new bv(2,jBa(),ev("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new cv("report-task",0,!1,new bv(2,jBa(),ev("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new cv("kix-snapshot",0,!1,new bv(1,kBa(ll(la.location.href),"/document/snapshot.js"),new dv,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new cv("sync-objects-sync",0,!0,new bv(1,pq(),ev("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=NTa(a,b[d].getId()),!c||!Xf(c,5,!1))return!1;return!0};function ZXd(a){this.C=a}function $Xd(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Fa()});a.C.setItem("optInLog",bm(c))}function aYd(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new ZXd(a)};function bYd(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function cYd(a){return JXd(a.H).then(function(a){return dYd(this,a).then(function(){var b=XAa();if(!b)throw Error("Missing user info for enabling offline in flags.");return eYd(this,a,b)}.bind(this))}.bind(a)).then(function(a){return fYd(this,a)}.bind(a))}function dYd(a,b){return(new qf(function(a,d){Xva(b.pQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function eYd(a,b,c){var d=new yua(F(c,1),!0);zua(d,c.xF());Aua(d,F(c,3));Bua(d,!!F(c,4));Cua(d,!!F(c,6));d.setProperty("optInReasons",a.C);return(new qf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function fYd(a,b){$Xd(aYd(),b.xF()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new Zp;var c=new dya;dg(b,aq,c);tya(a.F,b);b=new Qp;var d=new YAa(b);return mxa(b).then(function(){return new qf(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=ZAa(),c=new VWd;this.C[0]&&G(c,1,Sva(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.tC(81E3,0);b=TO(a);$f(b,34,c);this.D.vC(a)}.bind(a))};function gYd(a,b,c,d,e,f,h){A.call(this);this.Db=h||Qd();this.D=a;this.wb=b;this.J=c;this.Nb=d;a=new mBa;this.xa(a);this.F=new bq(a,aBa());this.xa(this.F);this.rb=new oq(this.F,aBa(),this);this.xa(this.rb);this.ib=new oq(this.F,null,this);this.xa(this.ib);this.$=new HXd(this.wb,this.F,e,"OfflinePromoControllerLockSessionId");this.xa(this.$);e=new XXd(this.$,this.wb);a=new Qp;this.Kb=new TXd(e,new YAa(a));e=this.$;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=yh(b,"gaia_session_id");
a=new CKc(306,b||null,a,!(ya(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new NXd(a);e=Nf&&Bza&&(dBa()||eBa())?new OXd(e):new Jac;e=new Hac(b,null,e);a=new MXd(a);b=dAa();e=Cac(Bac(TWd(zac(yac(new xac,e),a)),b),84).build();a=vac(e.uC());b=(new Gac(!1)).get();a.H=b;this.ub=e;this.ub.WG();this.zb=oCa(this.Db);this.C=null;this.cb=new Rh(this);this.xa(this.cb);this.Ra=new aj(this.Hqb,6E4,this);this.xa(this.Ra);this.Cb=!1;this.O=this.Wa=this.L=null;this.H=new We("docs-offline-promo-reload-butter-dismisss");
this.xa(this.H);this.H.setProperty("label","Dismiss");this.H.mb(!0);this.H.Tb(Pa,this.Nnb.bind(this));this.V=Ap.getInstance();this.ma=this.jb=this.Aa=this.Gb=!1;this.bb=Nf&&cj("56.0.2924.87");this.sb=!1;this.Jb=f}x(gYd,A);p=gYd.prototype;p.init=function(){I(H(),"docs-offline-eeooip")&&Jp()&&(hYd(this),iYd(this),this.F.connect(),this.cb.R(this.D,"r",this.Iqb).R(this.D,"q",this.Ujb).R(this.zb,"change",this.F7a),this.rb.R(aq,this.E7a),this.ib.R(aq,this.D7a).R(hya,this.ijb),E3(this))};
function E3(a){UXd(a.Kb).then(function(a){var b=1==a.Dt()&&!this.Aa,d=this.D.Zi(),e;if(!(e=this.ma)&&(e=!WWd())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((b=b&&this.bb&&e)&&!(b=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}b=h&&!f}h=b;this.Gb||(h?this.C||(this.C=new QXd(this.Db),this.xa(this.C),this.cb.R(this.C,"Gf",this.hwb).R(this.C,"Hf",this.dwb).R(this.C,"If",this.L5a),this.C.show(!0),jYd(this)):this.C&&this.C.show(!1));
if(this.Nb){if(2==a.Dt()||d||h)kYd(this);else if(this.Wa&&!eg(a,this.Wa)&&kYd(this),null==this.L){h=lYd(a);if(!this.sb)switch(a.Dt()){case 1:break;case 3:mYd(this,"Offline ineligible, other user enabled");break;case 7:mYd(this,"Offline ineligible, insufficient disk space");break;case 5:mYd(this,"Offline ineligible, policy disallows");break;case 6:mYd(this,"Offline ineligible, no extension");break;case 4:mYd(this,"Offline ineligible, invalid db state");break;default:mYd(this,"Offline ineligible, unknown reason")}a=
1==a.Dt()&&this.bb?Dp(h,"Turn on...",this.Yxb.bind(this),"info",!1):Cp(h,"info",!1);this.L=this.V.postMessage(a)}d&&this.Aa&&!this.jb?null==this.O&&(d=Dp("Reload to start editing even when offline.","Reload",this.Zxb.bind(this),"info",!0,void 0,this.H),this.O=this.V.postMessage(d)):null!=this.O&&(Bp(this.V,this.O),this.O=null)}}.bind(a))}p.Iqb=function(){this.Ra.start();E3(this)};p.Hqb=function(){Hya()||XWd(!0)};p.Ujb=function(){this.Ra.stop();hYd(this);iYd(this);E3(this)};
p.iwb=function(){if(this.D.Zi()){var a=yh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(ur("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=ADa("Your documents are syncing",fr(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.Db);Kh(b.Rq(),"docs-offline-welcomepromo-bg");this.xa(b);this.C&&this.C.show(!1)}else this.Gb=!0,RXd(this.C,PXd);this.Aa=!0;E3(this)};p.E7a=function(){this.Aa=!0;E3(this)};p.D7a=function(){E3(this)};p.ijb=function(){this.ma=!1;E3(this)};
p.fwb=function(a){this.wb.hd(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=wu(this.Jb,"Turning on offline access failed. Please try again later.",this.Db);a.D=!0;a.render();a.setVisible(!0);this.xa(a)};p.hwb=function(){this.J.Yb(2054);XWd(!1);cYd(new bYd(this.$,this.F,this.ub)).then(v(this.iwb,this),v(this.fwb,this))};
p.dwb=function(){this.D.Zi()?this.J.Yb(2055):ZWd(!0);XWd(!1);la.localStorage.setItem("docs-urop","true");this.ma=!1;E3(this);var a=new Zp,b=new gya;dg(a,hya,b);tya(this.F,a)};
function lYd(a){switch(a.Dt()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.NX()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function mYd(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";vm(a.wb,Error("Offline editing disabled: "+b),c);a.sb=!0}function kYd(a){null!=a.L&&(Bp(a.V,a.L),a.L=null,a.Wa=null)}p.Yxb=function(){this.ma=!0;E3(this)};p.Zxb=function(){la.location.reload()};p.Nnb=function(){this.jb=!0};p.F7a=function(){jYd(this)};p.L5a=function(){C(this.C);this.C=null};function jYd(a){!a.Cb&&a.C&&"hidden"!=a.zb.getState()&&(a.D.Zi()?a.J.Yb(2847):YWd(!0),a.Cb=!0)}
function hYd(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Zi()&&(YWd(!1),a.J.Yb(2847))}function iYd(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Zi()&&(ZWd(!1),a.J.Yb(2055))};function nYd(a,b,c,d,e,f,h){A.call(this);this.C=b;this.J=wf();oYd(this);this.F=this.H=null;this.L=a;this.D=c;this.cb=new Rh(this);this.xa(this.cb);this.O=d;this.V=e;this.ma=f;this.$=h}x(nYd,A);p=nYd.prototype;p.start=function(){pYd(this.C).then(function(a){a.connect();this.J.resolve(a)}.bind(this));qYd(this);this.cb.R(this.L,"q",this.Zjb)};
function EXd(a){if(2!=a.D.N5())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.N5());fXd(a.D,4);return rYd(a.C,10).then(function(a){var b=a.Dt();return tf().then(function(){return 1==b||2==b?F3(this,1):F3(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.uB=function(){return this.C.uB()};
function qYd(a){yf(a.C.H().then(function(a){switch(a.N5()){case 1:return sYd(this.C).then(function(){return F3(this,1)}.bind(this)).then(function(){tYd(this)}.bind(this));case 2:return F3(this,2);case 4:return uYd(this,a.NX());case 3:return a=F(a,3),null!=a?vYd(this,a):F3(this,2);case 5:return wYd(this)}}.bind(a)),ba().bind(a))}p.NCb=function(a){1==this.D.C&&!this.D.F&&0==F(a,2)&&yf(this.C.H().then(function(a){var b=this.D;a=F(a,5);b.F=a;b.dispatchEvent("Ef")}.bind(this)),ba().bind(this))};
function uYd(a){return F3(a,2)}function vYd(a,b){return a.V?rYd(a.C,b).then(function(a){switch(a.Dt()){case 1:return F3(this,1);case 2:return F3(this,1);default:return F3(this,2)}}.bind(a)):tf()}function wYd(a){return a.ma?rYd(a.C,2).then(function(a){switch(a.Dt()){case 1:case 2:return F3(this,1);default:return F3(this,2)}}.bind(a)):tf()}
function oYd(a){a.J.C.then(function(a){this.H=new oq(a,"user_"+this.O,this);this.xa(this.H);this.F=new oq(a,null,this);this.xa(this.F);this.H.R(aq,this.H7a).R(fya,this.wvb).R(jya,this.NCb);this.F.R(aq,this.G7a).R(fya,this.hjb)}.bind(a))}p.H7a=function(){yf(F3(this,1),ba().bind(this))};p.wvb=function(){yf(F3(this,2),ba().bind(this))};p.G7a=function(){xYd(this)};p.hjb=function(){xYd(this)};
function F3(a,b){return a.uB().then(function(a){fXd(this.D,b,a)}.bind(a)).then(function(){return this.C.H().then(function(a){var b=this.D;a=F(a,5);b.F=a;b.dispatchEvent("Ef")}.bind(this))}.bind(a)).then(ba().bind(a))}function xYd(a){a.uB().then(function(a){var b=this.D;b.D=a;b.dispatchEvent("Ef")}.bind(a))}p.Zjb=function(){tYd(this)};function tYd(a){a.$&&1==a.D.C&&yf(yYd(a.C),ba().bind(a))};function zYd(a){this.D=a}zYd.prototype.C=g("D");function G3(a,b,c,d){A.call(this);this.F=wf();this.Db=d||Qd();this.cb=new Rh(this);this.xa(this.cb);this.J=a;a=new Cl(b);a.gc("ouid",this.J);lBa()&&a.gc("Debug","true");Il(a,"cd="+c);if(Kb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Fl(El(Dl(new Cl,a.H),a.C),a.J).toString();this.C=this.Db.Ma("IFRAME",{style:"display:none"});zd(this.C,Np(a.toString()));this.cb.R(He(this.Db),"message",this.O);this.Db.Vb().body.appendChild(this.C);this.D=!1}x(G3,A);
function pYd(a){var b=new D3;b.setType(1);return H3(a,b).then(function(a){a=new bq(new zYd(a.port),"user_"+this.J);this.xa(a);return a}.bind(a))}function dXd(a,b){var c=new D3;c.setType(2);var d=new jXd;G(d,1,b||[]);$f(c,2,d);return H3(a,c).then(function(a){return Zf(Yf(a.response,lXd,3),rXd,1)}.bind(a))}G3.prototype.H=function(){var a=new D3;a.setType(4);return H3(this,a).then(function(a){return Yf(a.response,nXd,4).H()}.bind(this))};
G3.prototype.uB=function(){var a=new D3;a.setType(10);return H3(this,a).then(function(a){return Yf(a.response,oXd,7).uB()}.bind(this))};function CXd(a,b,c){var d=new D3;d.setType(5);var e=new sXd;ag(e,1,b);G(e,2,c);$f(d,3,e);return H3(a,d).then(ba())}function rYd(a,b){var c=new D3;c.setType(6);var d=new pXd;G(d,1,b);$f(c,4,d);return H3(a,c).then(function(a){return Yf(a.response,qXd,5).uB()})}function sYd(a){var b=new D3;b.setType(9);return H3(a,b).then(ba())}
function yYd(a){var b=new D3;b.setType(11);return H3(a,b).then(ba())}
function H3(a,b){return a.F.C.then(function(a){var c=new MessageChannel;a.postMessage(b.Zf(),[c.port2]);var e=wf();c.port1.onmessage=v(function(a){a=new AYd(a);a.response&&a.response.bK()?(a=a.response.bK(),e.reject(Error("Iframe api request failed (type "+a.getType()+"): "+a.getErrorMessage()))):e.resolve(a)},this);var f=t(void 0)?void 0:3E4,h=Wi(function(){e.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+f+"ms."))},f);xf(e.C,function(){c.port1.close();Zi(h)});return e.C}.bind(a))}
G3.prototype.O=function(a){(a=a.ue)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Cb(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.cb))};G3.prototype.Xa=function(){this.Db.xf(this.C);G3.oa.Xa.call(this)};function AYd(a){this.response=a.data?new hXd(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function BYd(a,b,c,d,e,f,h,k,l,m){A.call(this);this.F=yh(H(),"docs-offline-lsuid");this.H=new gYd(a,b,c,d,h,l,m);this.xa(this.H);this.H.init();this.J=new mBa;this.C=new bq(this.J,aBa());this.xa(this.C);this.C.connect();this.D=new eXd;this.xa(this.D);!I(H(),"docs-offline-eiedp")||I(H(),"docs-isd")&&!I(H(),"docs-offline-esdp")||(c=iBa("/iframeapi",void 0),c=new G3(this.F,c,1),this.xa(c),a=new nYd(a,c,this.D,this.F,!1,!1,!1),this.xa(a),a.start(),d=new cXd(e.tc(),c,this.C),this.xa(d),b=new vXd(e,f,c,
d,this.D,k,a,b,l),this.xa(b))}x(BYd,A);function CYd(){A.call(this)}x(CYd,Zz);CYd.prototype.C=function(a,b,c,d,e,f,h,k,l){return new BYd(a,b,c,!0,d,e,f,h,k,l)};eA("offline",CYd);
