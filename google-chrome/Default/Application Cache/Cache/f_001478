var EOf="cj-delete-recording",FOf="cj-finish-recording",GOf="docs-conjure-playback-bar-overflow-button",HOf="docs-conjure-playback-bar-paused",IOf="docs-conjure-playback-bar-play-button",JOf="docs-conjure-playback-bar-playing",KOf="docs-conjure-recording-bar-cancel-button",LOf="docs-conjure-recording-bar-no-thanks-button",MOf="docs-conjure-recording-bar-start-button",NOf="docs-conjure-recording-bar-stop-button",OOf="not-recording",POf="playback",L6="recording";aq.prototype.wma=Y(2,v(wh));
function QOf(a){Q(this,a,0,-1,null,null)}H(QOf,P);QOf.prototype.getSeconds=function(){return S(this,1,0)};var ROf=[[1]];function SOf(a){Q(this,a,0,-1,null,ROf)}H(SOf,P);function TOf(a){Q(this,a,0,-1,null,null)}H(TOf,P);function UOf(a){Q(this,a,0,-1,null,null)}H(UOf,P);function VOf(a){Q(this,a,0,-1,null,null)}H(VOf,P);function WOf(a){Q(this,a,0,-1,null,null)}H(WOf,P);function XOf(a){Q(this,a,0,-1,null,null)}H(XOf,P);function YOf(a){Q(this,a,0,-1,null,null)}H(YOf,P);
function ZOf(a){Q(this,a,0,-1,null,null)}H(ZOf,P);function $Of(a){Q(this,a,0,-1,null,null)}H($Of,P);function aPf(a,b){Kq(a,1,b)}function bPf(a){Q(this,a,0,-1,null,null)}H(bPf,P);function cPf(a){var b=Math.floor(a/1E3);a=b%60;var c=Math.floor(b/60)%60;b=Math.floor(b/3600);return(b?b+":":"")+(c?9<c?c:"0"+c:"00")+":"+(9<a?a:"0"+a)}function dPf(a){return a.getSeconds()+S(a,2,0)/1E9};function ePf(a){this.C=a}function fPf(a){R(a,1);return new ePf(R(a,1))}function gPf(a){var b=new UOf;T(b,1,a.C);return b}ePf.prototype.eb=function(a){return this.C==a.C};ePf.prototype.value=v("C");function hPf(a,b,c){this.H=a;this.F=b;this.C=c}
function iPf(a,b){function c(a,b){for(var c=0;c<b.length;c++)h.setUint8(a+c,b.charCodeAt(c))}var d=new Uint8Array(b),e=new ArrayBuffer(b.byteLength+44),f=new Uint8Array(e),h=new DataView(e);c(0,"RIFF");h.setUint32(4,36+b.byteLength*a.C,!0);c(8,"WAVE");c(12,"fmt ");h.setUint32(16,16,!0);h.setUint16(20,1,!0);h.setUint16(22,a.F,!0);h.setUint32(24,a.H,!0);h.setUint32(28,a.H*a.C,!0);h.setUint16(32,a.F*a.C,!0);h.setUint16(34,8*a.C,!0);c(36,pd);h.setUint32(40,d.length,!0);for(a=0;a<d.length;a++)f[a+44]=
d[a];return e}function jPf(){this.C=this.F=this.H=null}jPf.prototype.build=function(){return new hPf(this.H,this.F,this.C)};function kPf(a,b){a.H=b;return a}function lPf(a,b){a.F=b;return a}function mPf(a,b){a.C=b;return a};function nPf(a){switch(SBa(a,ROf[0])){case 1:return a=Iq(a,TOf,1),mPf(lPf(kPf(new jPf,R(a,1)),R(a,2)),R(a,3)).build();default:throw Error("IC`"+SBa(a,ROf[0]));}};function oPf(a,b,c){this.F=a;this.C=b;this.H=c}function pPf(a){return qPf(rPf(sPf(new tPf,fPf(Iq(a,UOf,1))),dPf(Iq(Iq(a,WOf,2),QOf,2))),nPf(Iq(a,SOf,5))).build()}function tPf(){this.C=this.F=this.H=null}tPf.prototype.build=function(){return new oPf(this.H,this.F,this.C)};function sPf(a,b){a.H=b;return a}function rPf(a,b){a.F=b;return a}function qPf(a,b){a.C=b;return a};function uPf(a,b,c){I.call(this);this.N=a;this.O=b;this.ga=c;this.H="not recording";this.L=this.R=this.J=this.F=this.C=null}H(uPf,I);
uPf.prototype.jm=function(){var a=this;return this.H==L6?Promise.resolve(void 0):wxa().mediaDevices.getUserMedia({audio:!0}).then(function(b){a.J=b.getAudioTracks()[0];a.R=new Date;a.W=vp();a.C=new AudioContext;a.L=mPf(lPf(kPf(new jPf,a.C.sampleRate),1),2).build();a.F=a.C.createScriptProcessor(16384,1,1);a.F.onaudioprocess=function(c){c=c.inputBuffer.getChannelData(0);var d=new ArrayBuffer(2*c.length);d=new DataView(d);for(var e=0,f=0;e<c.length;e++,f+=2)d.setInt16(f,32767*Math.max(-1,Math.min(1,
c[e])),!0);c=new Uint8Array(d.buffer);"ended"==a.J.readyState?(a.W.resolve(a.N.J.execute(a.O,a.L,c)),a.F.disconnect(a.C.destination)):b.active?a.H==L6&&a.N.F.execute(a.O,c):(vPf(a),a.F.disconnect(a.C.destination))};a.C.createMediaStreamSource(b).connect(a.F);a.F.connect(a.C.destination);return a.N.L.execute(a.ga,a.O,a.R,a.L).then(function(){a.H=L6})})};function vPf(a){if(a.H!=L6)return Promise.reject(Error("JC"));wPf(a);return Promise.resolve(a.W.qf)}
function wPf(a){a.J&&a.J.stop();a.H="not recording"}uPf.prototype.cancel=function(){wPf(this);this.F.disconnect(this.C.destination)};uPf.prototype.getState=v("H");function xPf(a){this.C=a}function yPf(){this.C=null;this.F=Ik}yPf.prototype.build=function(){return new xPf(this.C)};function zPf(a){var b=new yPf;b.C=a;return b};function APf(a){this.C=a};function BPf(a,b){I.call(this);this.F=a;this.C=b;this.ha(this.C)}H(BPf,I);function CPf(a,b,c){return b.F.execute().then(function(b){var d=zPf(b);d.F=L6;return new BPf(d.build(),new uPf(a,b,c))})};function DPf(a,b,c,d){this.ga=a;this.H=b;this.ia=c;this.L=d;this.R=this.C=null;this.W=this.N=this.J=this.F=0;this.O=new As}DPf.prototype.play=function(a){a=void 0===a?0:a;EPf(this)&&(this.H.resume(),a&&this.stop());return!EPf(this)||a?(this.J+=a,this.F+=a,this.W=a,FPf(this,GPf(this,a))):Promise.resolve()};
function HPf(a){EPf(a)||(a.C=a.H.createBufferSource(),a.C.buffer=a.R,a.C.connect(a.H.destination),a.C.onended=function(){a.J>=a.L.C?(a.N=0,a.J=0,a.F=0,a.C=null,a.O.dispatchEvent("cj-audio-playback-stopped")):a.C&&HPf(a)},a.J=a.F,a.C.start(),FPf(a,GPf(a,a.F)))}function GPf(a,b){a=a.L.C;a=Math.min(a,b+10);var c={};c.start=b;c.chunkDuration=a-b;return c}
function FPf(a,b){return 0>=b.chunkDuration?Promise.resolve():a.ga.download(a.ia,a.L.F,b.start,b.start+b.chunkDuration).then(function(c){c=iPf(a.L.H,c);a.H.decodeAudioData(c).then(function(c){a.R=c;a.F+=b.chunkDuration;a.J=b.start;a.C||(a.N=a.H.currentTime,HPf(a))})})}DPf.prototype.stop=function(){this.C.stop();this.F=this.J=this.N=0;this.C=null};function EPf(a){return"suspended"==a.H.state};function IPf(a,b,c){this.F=c;this.C=new DPf(a,new AudioContext,b,c)};function JPf(a,b,c){I.call(this);this.H=a;this.J=b;this.L=c;this.F=null;this.C=[]}H(JPf,I);function KPf(a){return a.J.H.execute().then(function(b){a.F=null;a.C.length=0;b.C.forEach(function(b){a.C.push(new IPf(a.H,a.L,b))})})}function LPf(a){return CPf(a.H,a.J,a.L).then(function(b){a.F=b;a.ha(a.F);return a.F})}function MPf(a){a.F.C.cancel();return a.H.C.execute().then(function(){a.J.C.execute(a.F.F.C);a.F=null})}
function NPf(a,b){return-1==OPf(a,b)?Promise.reject(Error("KC")):a.J.C.execute(b.F).then(function(){var c=OPf(a,b);-1!=c&&xn(a.C,c);return Promise.resolve()})}function OPf(a,b){for(var c=0;c<a.C.length;c++)if(a.C[c].F==b)return c;return-1};function PPf(){var a=void 0===a?null:a;this.F=null;a&&(jG(a,eG),this.F=a);this.C=[]}PPf.prototype.size=function(){return this.C.map(function(a){return a.buffer.byteLength}).reduce(function(a,b){return a+b},0)};function QPf(a){var b=dG(a.size());return 0<=jG(b,a.F)}
function RPf(a){QPf(a);var b=iCb(dG(a.size()),a.F);b=gCb(gG(a.F,b));for(var c=[],d=0;d<b;){var e=a.C.shift(),f=e.buffer.byteLength;if(d+f>b){var h=f-(d+f-b);a.C.unshift(e.slice(h,f));e=e.slice(0,h)}c.push(e);d+=e.buffer.byteLength}return c}function SPf(a){var b=a.C;a.C=[];return b}function TPf(a,b){return new Blob(a,{type:b})};function UPf(a){N.call(this,a)}H(UPf,N);function VPf(a,b,c,d){this.hqa=a;this.vQa=b;this.RXa=c;this.o9=d}function WPf(a){return(a=XPf(T5b,a.hqa))?parseInt(a,10):null}VPf.prototype.getError=function(){return 500<=this.o9?"Od":"Qd"};function YPf(a){if(!a)return Ik;switch(a){case ec:return ec;case Vcc:return Vcc;case "cancelled":return"cancelled";default:throw Error("LC`"+a);}}function XPf(a,b){for(var c in b)if(c.toLowerCase()===a.toLowerCase())return b[c];return null};function ZPf(a,b){I.call(this);this.O=a||0;this.H=b||10;if(this.O>this.H)throw Error("MC");this.C=new pAe;this.F=new Ts;this.$k=0;this.L=null;this.v3()}H(ZPf,I);z=ZPf.prototype;z.Gg=function(){var a=Jl();if(!(null!=this.L&&a-this.L<this.$k)){for(var b;0<this.C.Dd()&&(b=qAe(this.C),!this.Uqa(b));)this.v3();!b&&this.Dd()<this.H&&(b=this.Cia());b&&(this.L=a,this.F.add(b));return b}};z.hU=function(a){this.F.remove(a);this.Uqa(a)&&this.Dd()<this.H?this.C.C.push(a):$Pf(a)};
z.v3=function(){for(var a=this.C;this.Dd()<this.O;){var b=this.Cia();a.C.push(b)}for(;this.Dd()>this.H&&0<this.C.Dd();)$Pf(qAe(a))};z.Cia=function(){return{}};function $Pf(a){if(typeof a.dispose==Se)a.dispose();else for(var b in a)a[b]=null}z.Uqa=function(a){return typeof a.N8a==Se?a.N8a():!0};z.contains=function(a){return this.C.contains(a)||this.F.contains(a)};z.Dd=function(){return this.C.Dd()+this.F.Dd()};z.isEmpty=function(){return this.C.isEmpty()&&this.F.isEmpty()};
z.va=function(){ZPf.aa.va.call(this);if(0<this.F.Dd())throw Error("NC");delete this.F;for(var a=this.C;!a.isEmpty();)$Pf(qAe(a));delete this.C};function aQf(a,b){this.N=void 0;this.J=new bge;ZPf.call(this,a,b)}H(aQf,ZPf);z=aQf.prototype;z.Gg=function(a,b){if(!a)return(a=aQf.aa.Gg.call(this))&&this.$k&&(this.N=sl.setTimeout(F(this.b9,this),this.$k)),a;$fe(this.J,E(b)?b:100,a);this.b9()};z.b9=function(){for(var a=this.J;0<a.Dd();){var b=this.Gg();if(b)a.remove().apply(this,[b]);else break}};z.hU=function(a){aQf.aa.hU.call(this,a);this.b9()};z.v3=function(){aQf.aa.v3.call(this);this.b9()};
z.va=function(){aQf.aa.va.call(this);sl.clearTimeout(this.N);tn(this.J.C);this.J=null};function bQf(a,b,c,d){this.R=a;this.W=!!d;aQf.call(this,b,c)}H(bQf,aQf);bQf.prototype.Cia=function(){var a=new aq,b=this.R;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.W&&a.Cs(!0);return a};bQf.prototype.Uqa=function(a){return!a.isDisposed()&&!a.gG()};function cQf(a,b,c,d,e,f){O.call(this);this.H=E(a)?a:1;this.J=E(e)?Math.max(0,e):0;this.L=!!f;this.F=new bQf(b,c,d,f);this.C=new Zp;this.za=new Kp(this)}H(cQf,O);var dQf=[Ci,bd,yj,Ae,$b,xra];z=cQf.prototype;z.send=function(a,b,c,d,e,f,h,k,l,m){if(this.C.get(a))throw Error("OC");b=new eQf(b,F(this.hqb,this,a),c,d,e,h,E(k)?k:this.H,l,E(m)?m:this.L);this.C.set(a,b);a=F(this.Irb,this,a);this.F.Gg(a,f);return b};
z.abort=function(a,b){var c=this.C.get(a);if(c){var d=c.Dda;c.pr=!0;b&&(d&&(this.za.fc(d,dQf,c.Oua),Dp(d,Ci,function(){var a=this.F;a.F.remove(d)&&a.hU(d)},!1,this)),this.C.remove(a));d&&d.abort()}};z.Irb=function(a,b){var c=this.C.get(a);if(c&&!c.Dda){this.za.ea(b,dQf,c.Oua);EAa(b,this.J);var d=c.Gu();b.H=d;b.Cs(c.wma());c.Dda=b;this.dispatchEvent(new fQf(Ci,this,a,b));gQf(this,a,b);c.pr&&b.abort()}else a=this.F,a.F.remove(b)&&a.hU(b)};
z.hqb=function(a,b){var c=b.target;switch(b.type){case Ci:gQf(this,a,c);break;case bd:a:{var d=this.C.get(a);if(7==c.QF()||c.fk()||d.P3>d.Kma)if(this.dispatchEvent(new fQf(bd,this,a,c)),d&&(d.BJa=!0,d.nBa)){a=d.nBa.call(c,b);break a}a=null}return a;case yj:this.dispatchEvent(new fQf(yj,this,a,c));break;case xra:case Ae:b=this.C.get(a);b.P3>b.Kma&&this.dispatchEvent(new fQf(Ae,this,a,c));break;case $b:this.dispatchEvent(new fQf($b,this,a,c))}return null};
function gQf(a,b,c){var d=a.C.get(b);!d||d.BJa||d.P3>d.Kma?(d&&(a.za.fc(c,dQf,d.Oua),a.C.remove(b)),a=a.F,a.F.remove(c)&&a.hU(c)):(d.P3++,c.send(d.dc(),d.QJ(),d.Wc(),d.Fx()))}z.va=function(){cQf.aa.va.call(this);this.F.dispose();this.F=null;this.za.dispose();this.za=null;this.C.gn();this.C=null};function fQf(a,b,c,d){N.call(this,a,b);this.id=c;this.Dda=d}H(fQf,N);
function eQf(a,b,c,d,e,f,h,k,l){this.J=a;this.F=c||fb;this.$d=d;this.C=e||null;this.Kma=E(h)?h:1;this.P3=0;this.pr=this.BJa=!1;this.Oua=b;this.nBa=f;this.H=k||"";this.L=!!l;this.Dda=null}z=eQf.prototype;z.dc=v("J");z.QJ=v("F");z.Wc=v("$d");z.Fx=v("C");z.wma=v("L");z.Gu=v("H");function hQf(a,b,c,d,e,f){this.C=a;this.F=b;this.H=c;this.qe=function(a){a=a.target;for(var b={},c=a.getAllResponseHeaders().split(aa),e=0;e<c.length;e++)if(!Sn(c[e])){var f=kqc(c[e],Fa,2);b[f[0]]=b[f[0]]?b[f[0]]+(ua+f[1]):f[1]}c=a.Pd();e=XPf(W5b,b);a=new VPf(b,a.hj(),YPf(e),c);d(a)};this.J=e;this.L=f}hQf.prototype.execute=function(){this.J.send(this.L,this.H,Bb,this.F,this.C,void 0,this.qe)};function iQf(){this.W={};this.J=this.F=this.qe=this.L=null}iQf.prototype.build=function(){this.J||(this.J=(new Date).getTime().toString());this.F||(this.F=new cQf(6,void 0,0,1,void 0,!0));var a=this.C(this.W);return new hQf(a,this.H(),this.L,this.qe,this.F,this.J)};function jQf(a,b){a.L=b;return a}function kQf(a,b){a.qe=b;return a}function lQf(a,b){a.F=b;return a};function mQf(){iQf.call(this)}H(mQf,iQf);mQf.prototype.C=function(a){a=Object.assign({},a);a[U5b]=Gc;return a};mQf.prototype.H=y(null);function nQf(){iQf.call(this);this.R=this.O=null}H(nQf,iQf);function oQf(a,b){a.O=b;return a}nQf.prototype.qH=function(a){this.R=a;return this};nQf.prototype.C=function(a){a=Object.assign({},a||{});a[U5b]=Xmc;a["X-Goog-Upload-Offset"]=this.R.toString();return a};nQf.prototype.H=v("O");function pQf(){nQf.call(this);this.N=null}H(pQf,nQf);function qQf(a,b){a.N=b;return a}pQf.prototype.C=function(a){a=pQf.aa.C.call(this,a);a[U5b]="upload, finalize";a["X-Goog-Upload-Header-Content-Length"]=this.N.toString();return a};function rQf(){iQf.call(this);this.N=null}H(rQf,iQf);function sQf(a,b){a.N=b;return a}rQf.prototype.C=function(a){a=Object.assign({},a);a[U5b]=tj;a[V5b]="resumable";return a};rQf.prototype.H=v("N");function tQf(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;O.call(this);this.ga=a;this.N=b;this.W=c;this.C="not-started";this.J=!1;this.F=dm(0);this.L=null;this.H=new PPf;this.R=vp();this.O=vp()}H(tQf,O);
tQf.prototype.start=function(a,b){function c(a){var b=WPf(a);b=!isNaN(b)&&0<b;var c=!!XPf(X5b,a.hqa);200==a.o9&&a.RXa==ec&&c&&b?(b=d.H,c=dG(WPf(a)),jG(c,eG),b.F=c,d.L=XPf(X5b,a.hqa),e.resolve(a.vQa),a=!0):(uQf(d,"Nd",e),a=!1);return a}var d=this;this.C=tj;var e=vp();vQf(this,sQf(kQf(jQf(lQf(new rQf,this.N),a),function(a){return wQf(d,a,c,e)}),b).build());return e.qf};tQf.prototype.upload=function(a){this.C=Xmc;xQf(this,a)};function yQf(a,b){a.C="finalize";xQf(a,b);return a.R.qf}
tQf.prototype.cancel=function(){this.C=Gc;this.J||zQf(this);return this.O.qf};tQf.prototype.resume=function(){return sp()};function xQf(a,b){a.H.C.push(b);if(b=a.W)b=dm(a.H.size()),b=0<=Fta(b,a.W);b&&a.dispatchEvent("Pd");AQf(a)}
function AQf(a){if(!a.J){if("finalize"==a.C){var b=TPf(SPf(a.H),a.ga),c=function(c){var d=b.size;200==c.o9&&c.RXa==Vcc?(a.F=a.F.add(dm(d)),a.R.resolve(c.vQa),c=!0):(uQf(a,"Md",a.R),c=!1);return c};vQf(a,qQf(oQf(kQf(jQf(lQf(new pQf,a.N),a.L),function(b){return wQf(a,b,c)}),b).qH(a.F),a.F.add(dm(b.size))).build())}if(QPf(a.H)){var d=TPf(RPf(a.H),a.ga),e=function(){a.F=a.F.add(dm(d.size));return!0};vQf(a,oQf(kQf(jQf(lQf(new nQf,a.N),a.L),function(b){return wQf(a,b,e)}),d).qH(a.F).build())}}}
function vQf(a,b){a.J=!0;b.execute()}function zQf(a){function b(){a.O.resolve();return!0}vQf(a,kQf(jQf(lQf(new mQf,a.N),a.L),function(c){return wQf(a,c,b,a.O)}).build())}function wQf(a,b,c,d){a.J=!1;400<=b.o9?uQf(a,b.getError(),d):c(b)&&a.C==Xmc?AQf(a):a.C==Gc&&zQf(a)}function uQf(a,b,c){a.C=Ae;c?c.reject(b):a.dispatchEvent(new UPf(b))};function BQf(a,b,c){b=void 0===b?null:b;c=void 0===c?dm(1831E4):c;I.call(this);this.C=new tQf(a,b,c);this.ha(this.C)}H(BQf,I);BQf.prototype.start=function(a,b,c){return Promise.resolve(this.C.start(po(a,{authuser:HQ()}),CQf(b,c)).then(fl()))};function CQf(a,b){a=[{external:{name:Fe}},{inlined:{name:"conjure-request",content:b.Ra(),contentType:hk}},{inlined:{name:fNd,content:a,contentType:hk}}];return Mp({protocolVersion:"0.8",createSessionRequest:{fields:a}})}BQf.prototype.upload=function(a){this.C.upload(a)};
function DQf(a,b){return Promise.resolve(yQf(a.C,b).then(function(a){a:{a=JSON.parse(a);for(var b=["sessionStatus","additionalInfo",Ymc,"completionInfo","customerSpecificInfo","response"],c=0;c<b.length;c++)if(b[c]in a)a=a[b[c]];else{a="";break a}}return Nq(bPf,a)}))}BQf.prototype.cancel=function(){return Promise.resolve(this.C.cancel())};BQf.prototype.resume=function(a){return Promise.resolve(this.C.resume(a))};function EQf(a){I.call(this);this.C=a}H(EQf,I);EQf.prototype.execute=function(){return Promise.resolve(this.C.cancel())};function FQf(a){I.call(this);this.C=a}H(FQf,I);FQf.prototype.execute=function(a,b){this.C.upload(b)};function GQf(a){this.H=a}GQf.prototype.C=function(){var a=this.H.saa("/upload/download/voice-notes/audio/document");a.qa=Wda;return a};GQf.prototype.F=function(a){return a.F};function HQf(a,b){I.call(this);this.C=new L1(6E4,2,fb,new GQf(a),100);this.ha(this.C);this.Ba=b||null}H(HQf,I);HQf.prototype.execute=function(a,b,c,d){var e=this,f=[fNd,a,"recordingId",b.value(),"beginTimeOffsetSeconds",c,"endTimeOffsetSeconds",d];return Promise.resolve(xp(M1(this.C,f).then(el()),function(a){qJe(e.Ba,"downloadAudio",f,a);throw a;}))};function IQf(a){I.call(this);this.C=a}H(IQf,I);IQf.prototype.execute=function(a,b,c){return DQf(this.C,c).then(function(c){return rPf(qPf(sPf(new tPf,a),b),dPf(Iq(c,QOf,1))).build()})};function JQf(a){I.call(this);this.C=a}H(JQf,I);JQf.prototype.execute=function(a,b,c,d){var e=new XOf,f=new M3d;dY(f,1,Math.floor(c.getTime()/1E3),0);c=1E6*c.getMilliseconds();dY(f,2,c,0);Kq(e,1,f);f=new ZOf;b=gPf(b);Kq(f,1,b);Kq(f,2,e);e=new TOf;T(e,1,d.H);T(e,2,d.F);T(e,3,d.C);d=new SOf;uY(d,1,ROf[0],e);Kq(f,3,d);return this.C.start("/upload/voice-notes/audio/document",a,f)};function KQf(a,b,c){I.call(this);this.L=new JQf(a);this.ha(this.L);this.F=new FQf(a);this.ha(this.F);this.J=new IQf(a);this.ha(this.J);this.H=new HQf(b,c);this.ha(this.H);this.C=new EQf(a);this.ha(this.C)}H(KQf,I);KQf.prototype.download=function(a,b,c,d){return this.H.execute(a,b,c,d)};function LQf(a,b){I.call(this);this.C=new L1(1E4,2,Bb,new N1(a,"/voice-notes/recordings/create"));this.ha(this.C);this.Ba=b||null}H(LQf,I);LQf.prototype.execute=function(){var a=this,b=[wYd,(new YOf).Ra()];return Promise.resolve(xp(M1(this.C,b).then(function(a){a=B0d(a[0]);return Promise.resolve(fPf(Iq(a,UOf,1)))}),function(c){qJe(a.Ba,"createRecording",b,c);return Promise.reject(c)}))};function MQf(a,b){I.call(this);this.C=new L1(1E4,2,fb,new N1(a,"/voice-notes/recordings/list"));this.ha(this.C);this.Ba=b||null}H(MQf,I);MQf.prototype.execute=function(){var a=this;return Promise.resolve(xp(M1(this.C,[]).then(function(a){a=B0d(a[0]);return Promise.resolve(NQf(a))}),function(b){qJe(a.Ba,"listRecordings",[],b);return Promise.reject(b)}))};
function NQf(a){var b=[];Jq(a,VOf,1).forEach(function(a){var c=R(a,3);if(1===c){c=zPf(fPf(Iq(a,UOf,1)));a:switch(R(a,3)){case 1:a=L6;break a;case 2:a=qpa;break a;default:a=Ik}c.F=a;c.build()}else 2===c&&b.push(pPf(a))});return new APf(b)};function OQf(a,b){I.call(this);this.C=new L1(1E4,2,Bb,new N1(a,"/voice-notes/recordings/trash"));this.ha(this.C);this.Ba=b||null}H(OQf,I);OQf.prototype.execute=function(a){var b=this,c=new $Of;aPf(c,gPf(a));var d=[wYd,c.Ra()];return Promise.resolve(xp(M1(this.C,d).then(function(){return Promise.resolve()}),function(a){qJe(b.Ba,"deleteRecording",d,a);return Promise.reject(a)}))};function PQf(a,b){I.call(this);this.F=new LQf(a,b);this.ha(this.F);this.H=new MQf(a,b);this.ha(this.H);this.C=new OQf(a,b);this.ha(this.C)}H(PQf,I);function QQf(a,b,c){b=c||b;a='<div class="docs-conjure-playback-bar" tabindex="-1"><div class="docs-conjure-playback-bar-play-button" role="button" tabindex="0" title="'+GC("Play");a=a+'"></div><div class="docs-conjure-playback-bar-timestamps"></div><div class="docs-conjure-playback-bar-flex-separator"></div>'+Z(VP({Wb:CC(GOf),content:DC(""+Z(vQ({icon:"docs-icon-img docs-icon-overflow-three-dots"},b))),style:4,title:CC(lca)},b));return W(a+'<progress class="docs-conjure-playback-bar-seek-bar" value="0" max="100"></progress></div>')}
;function RQf(a,b){yC.call(this,b);this.ga=new lP(void 0,new DQ);this.ha(this.ga);this.N=this.ia=null;this.F=!1;this.C=null;this.H=new Gp(500);this.L=0;this.J=new gP;this.ha(this.J);this.W=new pP(void 0,this.J,new DQ);this.Ka(this.W);this.O=new VO("Delete audio");this.J.Ka(this.O,!0);this.R=new VO("Hide audio notes");this.J.Ka(this.R,!0);this.wa=a}H(RQf,yC);RQf.prototype.ua=function(){RQf.aa.ua.call(this);var a=JC(QQf,void 0,void 0,this.oa());this.Db(a)};
RQf.prototype.Fa=function(){var a=this;RQf.aa.Fa.call(this);var b=this.sb(IOf);this.ga.bb(b);fv(b,HOf,JOf);this.Ha().ve(b,Bv,this.na);this.ia=this.sb("docs-conjure-playback-bar-timestamps");this.N=this.sb("docs-conjure-playback-bar-seek-bar");b=this.sb(GOf);this.W.bb(b);this.Ha().ea(this.H,ik,function(){var b=a.C,d=b.H.currentTime-b.N;SQf(a,b.N?b.W+d:0)}).ve(this.N,Bv,function(b){a.H.stop();a.L=b.offsetX/b.target.offsetWidth*a.C.L.C;SQf(a,a.L);a.F&&(a.C.stop(),TQf(a,a.L))}).ve(this.O.Za(),Bv,function(){return UQf(a)}).ve(this.R.Za(),
Bv,function(){return U.RH.hb()})};function VQf(a,b){a.C=b;SQf(a,0);Bs(a.C.O,function(){a.F=!1;WQf(a);a.N.setAttribute(Mk,gX);a.H.stop()})}function SQf(a,b){var c=a.C?1E3*a.C.L.C:0;Ur(a.ia,cPf(1E3*b)+" / "+cPf(c));a.N.setAttribute(Mk,Math.floor(1E3*b/c*100).toString())}RQf.prototype.na=function(){if(this.F){var a=this.C;a.C&&!EPf(a)&&a.H.suspend();this.F=!1}else this.F=!0,TQf(this,this.L);WQf(this)};function TQf(a,b){a.C.play(Math.floor(b)).then(function(){a.H.enabled||a.H.start()})}
function UQf(a){var b=MP(MP(new HP,PP,!1,!0),{key:wd,caption:Za},!0);return v5d(a.wa,"Delete audio recording?","",function(){return a.dispatchEvent(EOf)},void 0,b,a.oa())}function WQf(a){var b=a.sb(IOf);a.F?fv(b,JOf,HOf):fv(b,HOf,JOf)};function XQf(){this.$d=this.C=null}H(XQf,I);function YQf(a,b){a.C&&a.C.Ua()&&a.$d==b||(a.C=new EQ(b),a.$d=b,a.C.Xa(),a.C.xa(!0),a.ha(a.C))};function ZQf(){var a='<div class="docs-conjure-recording-bar"><div class="docs-conjure-recording-bar-mic-button" role="button" tabindex="0" title="'+GC("Record");a=a+'"></div><div class="docs-conjure-recording-bar-timestamp"></div><div class="docs-conjure-recording-bar-text"></div><div class="docs-conjure-recording-bar-flex-separator"></div>'+Z(xQ({enabled:!0,Cn:CC(LOf),Yo:DC(g4b)}));a+=Z(xQ({enabled:!0,Cn:CC(KOf),Yo:DC(LJ)}));a+=Z(xQ({enabled:!0,Cn:CC(MOf),Yo:DC("Start recording")}));a+=Z(xQ({enabled:!0,
Cn:CC(NOf),Yo:DC("End recording")}));return W(a+Ga)};function $Qf(a,b,c,d,e){yC.call(this,e);this.W=a;this.wa=b;this.F=OOf;this.N=new lP(void 0,new DQ);this.ha(this.N);this.C=new lP(void 0,new DQ);this.ha(this.C);this.J=new lP(void 0,new DQ);this.ha(this.J);this.L=new lP(void 0,new DQ);this.ha(this.L);this.ia=this.R=this.ga=null;this.O=new Gp(500);this.H=null;this.na=d;this.Ca=c}H($Qf,yC);z=$Qf.prototype;z.ua=function(){$Qf.aa.ua.call(this);var a=JC(ZQf,void 0,void 0,this.oa());this.Db(a)};
z.Fa=function(){var a=this;$Qf.aa.Fa.call(this);var b=this.sb(MOf);this.N.bb(b);this.N.xa(!0);var c=this.sb(NOf);this.C.bb(c);this.C.xa(!1);this.C.Ya(!1);var d=this.sb(LOf);this.wa.C(this.J,U.RH);this.J.bb(d);this.J.xa(!0);d=this.sb(KOf);this.L.bb(d);this.L.xa(!1);this.ga=this.sb("docs-conjure-recording-bar-text");this.R=this.sb("docs-conjure-recording-bar-mic-button");this.ia=this.sb("docs-conjure-recording-bar-timestamp");aRf(this);bRf(this);this.Ha().ve(b,Bv,this.ZDb).ve(c,Bv,this.aEb).ve(d,Bv,
this.O9a).ea(this.O,ik,function(){aRf(a)})};z.ZDb=function(){var a=this;return this.F!=OOf?Promise.reject():LPf(this.W).then(function(b){a.H=b;return a.H.C.jm().then(function(){a.O.start();a.H.C.getState();a.F=L6;a.C.Ya(!0);bRf(a)})}).catch(function(b){YQf(a.na,"Audio Notes is currently unavailable.");return Promise.reject(b)})};
z.aEb=function(){var a=this;if(this.F!=L6||!this.C.isEnabled())return Promise.reject();this.O.stop();return vPf(this.H.C).then(function(b){var c=a.W;c.F=null;c.C.push(new IPf(c.H,c.L,b));a.F=OOf;bRf(a);a.dispatchEvent(FOf)}).catch(function(b){YQf(a.na,"Unfortunately, the recording failed to save.");a.C.Ya(!1);return Promise.reject(b)})};z.O9a=function(){var a=MP(MP(new HP,PP,!1,!0),{key:"discard",caption:"Discard"},!0);return v5d(this.Ca,"Cancel and discard unsaved audio?","",this.JKb,this,a)};
z.JKb=function(){this.O.stop();this.F=OOf;bRf(this);MPf(this.W).then(function(){U.RH.hb()})};function bRf(a){a.F==L6?(fv(a.R,OOf,L6),a.C.xa(!0),a.N.xa(!1),a.J.xa(!1),a.L.xa(!0),Ur(a.ga,"Recording... Click the mic to pause.")):a.F==OOf&&(fv(a.R,L6,OOf),a.C.xa(!1),a.N.xa(!0),a.J.xa(!0),a.L.xa(!1),Ur(a.ga,"Before recording, ask for permission from everyone in the room"),Ur(a.ia,cPf(0)))}function aRf(a){Ur(a.ia,cPf(a.H?new Date-a.H.C.R:0))};function cRf(a,b,c,d){yC.call(this,d);this.L=new XQf;this.ha(this.L);this.F=new $Qf(a,b,c,this.L);this.Ka(this.F);this.C=new RQf(c);this.Ka(this.C);this.H=null;this.J=a}H(cRf,yC);z=cRf.prototype;z.ua=function(){cRf.aa.ua.call(this);this.H=Lr(Xa);$u(this.H,"docs-conjure-audio-bar");this.Db(this.H);this.F.ua();this.F.xa(!1);this.H.appendChild(this.F.X());this.C.ua();this.C.xa(!1);this.H.appendChild(this.C.X())};
z.Fa=function(){var a=this;cRf.aa.Fa.call(this);this.Ha().ea(this.F,FOf,function(){VQf(a.C,a.J.C.slice().slice().pop().C);dRf(a,POf)}).ea(this.C,EOf,function(){eRf(a,a.C.C.L)})};z.WJb=function(){var a=this;KPf(this.J).then(function(){0<a.J.C.slice().length?(VQf(a.C,a.J.C.slice().slice().pop().C),dRf(a,POf)):dRf(a,L6)})};function eRf(a,b){NPf(a.J,b).then(function(){dRf(a,L6);U.RH.hb()}).catch(function(){YQf(a.L,"Unfortunately, the recording failed to delete.")})}z.$e=function(){this.xa(!1)};
z.IKb=function(){this.xa(!0)};function dRf(a,b){b==L6?(a.F.xa(!0),a.C.xa(!1)):b==POf&&(a.C.xa(!0),a.F.xa(!1))};cN(bXd);function fRf(){I.call(this)}H(fRf,xD);z=fRf.prototype;z.Ilb=function(){return cRf};z.rmb=function(){return BQf};z.Vob=function(){return KQf};z.bnb=function(){return PQf};z.Oob=function(){return JPf};aN(AD(bXd),fRf);BD(yD(),bXd);bN();
