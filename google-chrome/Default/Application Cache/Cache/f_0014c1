Yx.prototype.Hj=ZO(70,function(){return V(this,2)});CH.prototype.Hj=ZO(69,g("F"));Sfa.prototype.Ao=ZO(6,function(){return null!=F(this,5)});bn.prototype.Ao=ZO(5,function(){return null!=F(this,1)});zv.prototype.Ao=ZO(4,function(){return mv(this,2)});function F1(a){W(a,2,1)}function PGd(a){Eb(a,"google::")||(a="google::"+a);a=Ob(a);return Il(Gl(El(Dl(new Cl,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}
function QGd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-consent-screen-content")+'"><p>';a=a+"Sheets requires authorization to connect to your BigQuery projects."+('</p><div class="'+Q("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper")+'"></div></div>');return P(a)}function RGd(){var a='<div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"Your authentication credentials are always private and never shared with another user.</div>")};function SGd(){var a=P,b='<div class="'+Q("waffle-dataconnector-modal-header")+'"><div class="'+Q("waffle-dataconnector-modal-title")+'"></div><div class="'+Q("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return a(b+c+'</div></div><div class="'+Q("waffle-dataconnector-modal-body")+'"></div><div class="'+Q("waffle-dataconnector-modal-footer")+'"></div>')};function G1(a,b){a=void 0===a?"":a;xq.call(this,!1,b);this.Gb=a;this.C=new kr(void 0,TGd.getInstance());this.Ya(this.C);this.ub=null;this.sb=!0}q(G1,xq);p=G1.prototype;p.Ma=function(){xq.prototype.Ma.call(this);Kh(this.getElement(),"waffle-dataconnector-modal");this.Gb&&Kh(this.getElement(),this.Gb);hr(this.getElement(),SGd);var a=this.Rq();Kh(a,"waffle-dataconnector-modal-bg");L(a,this.sb);this.C.yb(this.$a("waffle-dataconnector-modal-close-button"));this.ub&&UGd(this)};
p.Za=function(){xq.prototype.Za.call(this);VGd(this);this.getHandler().R(this.C,"action",this.t7);this.getHandler().R(this.qb(),["keydown","keypress"],this.YJb)};p.Ob=function(){return this.Hb("waffle-dataconnector-modal-body")};function WGd(a){return a.Hb("waffle-dataconnector-modal-footer")}function XGd(a,b){a.ub=b;a.Sb()&&UGd(a)}function VGd(a){var b=a.qa(),c=a.Rq(),d=a.Uo;a.sb?(d&&b.Qt(d,a.getElement()),b.Qt(c,a.getElement())):(b.xf(d),b.xf(c))}p.t7=function(){o7a.dc()};p.y7=function(){o7a.dc()};
p.YJb=function(a){"keydown"==a.type?27==a.keyCode?this.y7():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&cDa(this):this.SGa(a)};function UGd(a){Oi.getInstance().setContent(a.$a("waffle-dataconnector-modal-title"),a.ub)}p.SGa=ba();function TGd(){}q(TGd,jr);TGd.prototype.ep=n("waffle-dataconnector-modal-close-button");ta(TGd);function H1(a,b){G1.call(this,a,b);this.H=wf()}q(H1,G1);p=H1.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Xa=function(){G1.prototype.Xa.call(this);this.H.reject()};p.y7=function(){this.reject()};p.t7=function(){this.reject()};function YGd(a){H1.call(this,"waffle-dataconnector-bigquery-consent-screen",a);XGd(this,"Authorize");this.D=new uU("Authorize");this.Ya(this.D);this.D.Gd("waffle-dataconnector-bigquery-consent-screen-authorize-button")}q(YGd,H1);YGd.prototype.Ma=function(){H1.prototype.Ma.call(this);hr(this.Ob(),QGd);hr(WGd(this),RGd);this.D.render(this.$a("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper"))};
YGd.prototype.Za=function(){var a=this;H1.prototype.Za.call(this);this.getHandler().R(this.D,"action",function(){return a.resolve(!0)})};YGd.prototype.y7=function(){this.resolve(!1)};YGd.prototype.t7=function(){this.resolve(!1)};function I1(){T.call(this)}x(I1,T);var ZGd=null;I1.prototype.$w=function(){return mv(this,1)};function J1(){T.call(this)}x(J1,T);var $Gd=null;J1.prototype.$w=function(){return mv(this,1)};J1.prototype.wn=function(){return V(this,2)};J1.prototype.gR=function(){return mv(this,2)};function K1(){T.call(this)}x(K1,T);var aHd=null;K1.prototype.getName=function(){return V(this,1)};K1.prototype.Ke=function(a){W(this,1,a)};function L1(){T.call(this)}x(L1,T);var bHd=null;p=L1.prototype;
p.Ib=function(){return V(this,1)};p.Yf=function(){return mv(this,1)};p.Xp=function(){return V(this,2)};p.getColumnIndex=function(){return V(this,3)};p.$u=function(){return uv(this,3)};function M1(){T.call(this)}x(M1,T);var cHd=null;I1.prototype.Ba=function(){var a=ZGd;a||(ZGd=a=vv(I1,{0:{name:"PlxQuery",Ab:"ritzproto.PlxQuery"},1:{name:"query",va:9,type:String},2:{name:"engine",va:9,type:String},3:{name:"script_id",va:9,type:String}}));return a};I1.Ba=I1.prototype.Ba;
J1.prototype.Ba=function(){var a=$Gd;a||($Gd=a=vv(J1,{0:{name:"BigQueryQuery",Ab:"ritzproto.BigQueryQuery"},1:{name:"query",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};J1.Ba=J1.prototype.Ba;K1.prototype.Ba=function(){var a=aHd;a||(aHd=a=vv(K1,{0:{name:"QueryParameter",Ab:"ritzproto.QueryParameter"},1:{name:"name",va:9,type:String},2:{name:"constant_value",va:9,type:String},3:{name:"workbookrange_id",va:9,type:String},4:{name:"cell_coordinate",va:11,type:L1}}));return a};
K1.Ba=K1.prototype.Ba;L1.prototype.Ba=function(){var a=bHd;a||(bHd=a=vv(L1,{0:{name:"CellCoordinate",Ab:"ritzproto.CellCoordinate"},1:{name:"sheet_id",va:9,type:String},2:{name:"row_index",va:5,type:Number},3:{name:"column_index",va:5,type:Number}}));return a};L1.Ba=L1.prototype.Ba;
M1.prototype.Ba=function(){var a=cHd;a||(cHd=a=vv(M1,{0:{name:"QueryProto",Ab:"ritzproto.QueryProto"},1:{name:"sql_query",va:9,type:String},2:{name:"plx_query",va:11,type:I1},4:{name:"bigquery_query",va:11,type:J1},3:{name:"parameters",fc:!0,va:11,type:K1}}));return a};M1.Ba=M1.prototype.Ba;var dHd={BBc:0,Sqc:1,quc:2,E6b:3,Nyc:4};function N1(){T.call(this)}x(N1,T);var eHd=null;N1.prototype.getName=function(){return V(this,1)};N1.prototype.Ke=function(a){W(this,1,a)};function O1(){T.call(this)}x(O1,T);var fHd=null;p=O1.prototype;p.getId=function(){return V(this,1)};p.vn=function(){return uv(this,1)};p.vf=function(a){W(this,1,a)};p.getType=function(){return V(this,2)};p.setType=function(a){W(this,2,a)};function P1(){T.call(this)}x(P1,T);var gHd=null;function Q1(){T.call(this)}x(Q1,T);
var hHd=null;Q1.prototype.Ao=function(){return mv(this,3)};function R1(){T.call(this)}x(R1,T);var iHd=null;R1.prototype.$w=function(){return mv(this,2)};function S1(){T.call(this)}x(S1,T);var jHd=null;S1.prototype.Hj=function(){return V(this,1)};S1.prototype.Ib=function(){return V(this,3)};S1.prototype.Yf=function(){return mv(this,3)};function T1(){T.call(this)}x(T1,T);var kHd=null;T1.prototype.$w=function(){return mv(this,2)};T1.prototype.getToken=function(){return V(this,4)};
T1.prototype.setToken=function(a){W(this,4,a)};function U1(){T.call(this)}x(U1,T);var lHd=null;U1.prototype.Hj=function(){return V(this,1)};function V1(){T.call(this)}x(V1,T);var mHd=null;V1.prototype.zI=function(a){rv(this,2,a)};function nHd(){T.call(this)}x(nHd,T);var oHd=null;function pHd(){T.call(this)}x(pHd,T);var qHd=null;function W1(){T.call(this)}x(W1,T);var rHd=null;W1.prototype.Ib=function(){return V(this,1)};W1.prototype.Yf=function(){return mv(this,1)};function X1(){T.call(this)}
x(X1,T);var sHd=null;X1.prototype.Hj=function(){return V(this,1)};function Y1(){T.call(this)}x(Y1,T);var tHd=null;Y1.prototype.wn=function(){return V(this,2)};Y1.prototype.gR=function(){return mv(this,2)};function Z1(){T.call(this)}x(Z1,T);var uHd=null;Z1.prototype.Ao=function(){return mv(this,2)};function $1(){T.call(this)}x($1,T);var vHd=null;$1.prototype.getName=function(){return V(this,1)};$1.prototype.Ke=function(a){W(this,1,a)};$1.prototype.wn=function(){return V(this,3)};
function wHd(a,b){W(a,3,b)}$1.prototype.gR=function(){return mv(this,3)};function a2(){T.call(this)}x(a2,T);var xHd=null;a2.prototype.$w=function(){return mv(this,2)};function b2(){T.call(this)}x(b2,T);var yHd=null;b2.prototype.Hj=function(){return V(this,1)};function zHd(){T.call(this)}x(zHd,T);var AHd=null;function c2(){T.call(this)}x(c2,T);var BHd=null;p=c2.prototype;p.getId=function(){return V(this,1)};p.vn=function(){return uv(this,1)};p.vf=function(a){W(this,1,a)};
p.getName=function(){return V(this,2)};p.Ke=function(a){W(this,2,a)};function d2(){T.call(this)}x(d2,T);var CHd=null;function f2(){T.call(this)}x(f2,T);var DHd=null;f2.prototype.Ao=function(){return mv(this,2)};function g2(){T.call(this)}x(g2,T);var EHd=null;g2.prototype.wn=function(){return V(this,2)};g2.prototype.gR=function(){return mv(this,2)};function h2(){T.call(this)}x(h2,T);var FHd=null;h2.prototype.Ao=function(){return mv(this,2)};function GHd(){T.call(this)}x(GHd,T);var HHd=null;
function i2(){T.call(this)}x(i2,T);var IHd=null;i2.prototype.Ao=function(){return mv(this,2)};function j2(){T.call(this)}x(j2,T);var JHd=null;p=j2.prototype;p.getId=function(){return V(this,1)};p.vn=function(){return uv(this,1)};p.vf=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Ke=function(a){W(this,2,a)};function KHd(){T.call(this)}x(KHd,T);var LHd=null;function k2(){T.call(this)}x(k2,T);var MHd=null;k2.prototype.$w=function(){return mv(this,2)};function NHd(){T.call(this)}
x(NHd,T);var OHd=null;function l2(){T.call(this)}x(l2,T);var PHd=null;l2.prototype.Hj=function(){return V(this,1)};N1.prototype.Ba=function(){var a=eHd;a||(eHd=a=vv(N1,{0:{name:"CreateConnectionRequest",Ab:"ritzproto.CreateConnectionRequest"},1:{name:"name",va:9,type:String},2:{name:"connection_type",va:14,defaultValue:0,type:GVa},3:{name:"jdbc_connection_info",va:11,type:P1}}));return a};N1.Ba=N1.prototype.Ba;
O1.prototype.Ba=function(){var a=fHd;a||(fHd=a=vv(O1,{0:{name:"ImportConnectionRequest",Ab:"ritzproto.ImportConnectionRequest"},1:{name:"id",va:9,type:String},2:{name:"type",va:14,defaultValue:0,type:GVa}}));return a};O1.Ba=O1.prototype.Ba;
P1.prototype.Ba=function(){var a=gHd;a||(gHd=a=vv(P1,{0:{name:"JdbcConnectionInfo",Ab:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",va:14,defaultValue:0,type:dHd},2:{name:"hostname",va:9,type:String},3:{name:"db_name",va:9,type:String},4:{name:"username",va:9,type:String},5:{name:"password",va:9,type:String},6:{name:"use_ssl",va:8,type:Boolean},7:{name:"client_key",va:9,type:String},8:{name:"client_cert",va:9,type:String},9:{name:"server_ca",va:9,type:String},10:{name:"jdbc_url",va:9,type:String}}));
return a};P1.Ba=P1.prototype.Ba;Q1.prototype.Ba=function(){var a=hHd;a||(hHd=a=vv(Q1,{0:{name:"CreateConnectionResponse",Ab:"ritzproto.CreateConnectionResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"connection_id",va:9,type:String},3:{name:"error_code",va:14,defaultValue:0,type:HVa},4:{name:"error_text",va:9,type:String}}));return a};Q1.Ba=Q1.prototype.Ba;
R1.prototype.Ba=function(){var a=iHd;a||(iHd=a=vv(R1,{0:{name:"CreateQueryRequest",Ab:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:M1}}));return a};R1.Ba=R1.prototype.Ba;S1.prototype.Ba=function(){var a=jHd;a||(jHd=a=vv(S1,{0:{name:"CreateQueryResponse",Ab:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",va:11,type:zv},2:{name:"query_id",va:9,type:String},3:{name:"sheet_id",va:9,type:String}}));return a};S1.Ba=S1.prototype.Ba;
T1.prototype.Ba=function(){var a=kHd;a||(kHd=a=vv(T1,{0:{name:"PreviewQueryRequest",Ab:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:M1},3:{name:"max_rows",va:5,type:Number},4:{name:"token",va:9,type:String},5:{name:"dry_run",va:8,type:Boolean}}));return a};T1.Ba=T1.prototype.Ba;
U1.prototype.Ba=function(){var a=lHd;a||(lHd=a=vv(U1,{0:{name:"PreviewQueryResponse",Ab:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",va:11,type:zv},2:{name:"query_result",va:11,type:V1},3:{name:"total_rows",va:5,type:Number},4:{name:"has_more",va:8,type:Boolean},5:{name:"metadata",va:11,type:pHd}}));return a};U1.Ba=U1.prototype.Ba;
V1.prototype.Ba=function(){var a=mHd;a||(mHd=a=vv(V1,{0:{name:"QueryResult",Ab:"ritzproto.QueryResult"},1:{name:"column_names",fc:!0,va:9,type:String},2:{name:"rows",fc:!0,va:11,type:nHd}}));return a};V1.Ba=V1.prototype.Ba;nHd.prototype.Ba=function(){var a=oHd;a||(oHd=a=vv(nHd,{0:{name:"QueryResultRow",Ab:"ritzproto.QueryResultRow"},1:{name:"formatted_values",fc:!0,va:11,type:Gv}}));return a};nHd.Ba=nHd.prototype.Ba;
pHd.prototype.Ba=function(){var a=qHd;a||(qHd=a=vv(pHd,{0:{name:"QueryExecutionMetadata",Ab:"ritzproto.QueryExecutionMetadata"},1:{name:"bytes_processed",va:9,type:String}}));return a};pHd.Ba=pHd.prototype.Ba;W1.prototype.Ba=function(){var a=rHd;a||(rHd=a=vv(W1,{0:{name:"RefreshSheetRequest",Ab:"ritzproto.RefreshSheetRequest"},1:{name:"sheet_id",va:9,type:String}}));return a};W1.Ba=W1.prototype.Ba;
X1.prototype.Ba=function(){var a=sHd;a||(sHd=a=vv(X1,{0:{name:"RefreshSheetResponse",Ab:"ritzproto.RefreshSheetResponse"},1:{name:"execution_status",va:11,type:zv}}));return a};X1.Ba=X1.prototype.Ba;Y1.prototype.Ba=function(){var a=tHd;a||(tHd=a=vv(Y1,{0:{name:"GetTablesRequest",Ab:"ritzproto.GetTablesRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String},3:{name:"schema_name",va:9,type:String}}));return a};Y1.Ba=Y1.prototype.Ba;
Z1.prototype.Ba=function(){var a=uHd;a||(uHd=a=vv(Z1,{0:{name:"GetTablesResponse",Ab:"ritzproto.GetTablesResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:HVa},3:{name:"error_text",va:9,type:String},4:{name:"tables",fc:!0,va:11,type:$1}}));return a};Z1.Ba=Z1.prototype.Ba;
$1.prototype.Ba=function(){var a=vHd;a||(vHd=a=vv($1,{0:{name:"Table",Ab:"ritzproto.Table"},1:{name:"name",va:9,type:String},2:{name:"schema",va:9,type:String},3:{name:"project_id",va:9,type:String}}));return a};$1.Ba=$1.prototype.Ba;a2.prototype.Ba=function(){var a=xHd;a||(xHd=a=vv(a2,{0:{name:"EditQueryRequest",Ab:"ritzproto.EditQueryRequest"},1:{name:"query_id",va:9,type:String},2:{name:"query",va:11,type:M1}}));return a};a2.Ba=a2.prototype.Ba;
b2.prototype.Ba=function(){var a=yHd;a||(yHd=a=vv(b2,{0:{name:"EditQueryResponse",Ab:"ritzproto.EditQueryResponse"},1:{name:"execution_status",va:11,type:zv}}));return a};b2.Ba=b2.prototype.Ba;zHd.prototype.Ba=function(){var a=AHd;a||(AHd=a=vv(zHd,{0:{name:"ListConnectionsResponse",Ab:"ritzproto.ListConnectionsResponse"},1:{name:"connections",fc:!0,va:11,type:c2}}));return a};zHd.Ba=zHd.prototype.Ba;
c2.prototype.Ba=function(){var a=BHd;a||(BHd=a=vv(c2,{0:{name:"Connection",Ab:"ritzproto.Connection"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String},3:{name:"connection_type",va:14,defaultValue:0,type:GVa},4:{name:"jdbc_connection_info",va:11,type:P1}}));return a};c2.Ba=c2.prototype.Ba;d2.prototype.Ba=function(){var a=CHd;a||(CHd=a=vv(d2,{0:{name:"GetColumnsRequest",Ab:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"table",va:11,type:$1}}));return a};
d2.Ba=d2.prototype.Ba;f2.prototype.Ba=function(){var a=DHd;a||(DHd=a=vv(f2,{0:{name:"GetColumnsResponse",Ab:"ritzproto.GetColumnsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:HVa},3:{name:"error_text",va:9,type:String},4:{name:"column_names",fc:!0,va:9,type:String}}));return a};f2.Ba=f2.prototype.Ba;
g2.prototype.Ba=function(){var a=EHd;a||(EHd=a=vv(g2,{0:{name:"GetDatasetsRequest",Ab:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};g2.Ba=g2.prototype.Ba;
h2.prototype.Ba=function(){var a=FHd;a||(FHd=a=vv(h2,{0:{name:"GetDatasetsResponse",Ab:"ritzproto.GetDatasetsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:HVa},3:{name:"error_text",va:9,type:String},4:{name:"dataset_names",fc:!0,va:9,type:String}}));return a};h2.Ba=h2.prototype.Ba;
GHd.prototype.Ba=function(){var a=HHd;a||(HHd=a=vv(GHd,{0:{name:"GetBigQueryProjectsRequest",Ab:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",va:9,type:String}}));return a};GHd.Ba=GHd.prototype.Ba;
i2.prototype.Ba=function(){var a=IHd;a||(IHd=a=vv(i2,{0:{name:"GetBigQueryProjectsResponse",Ab:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:HVa},3:{name:"error_text",va:9,type:String},4:{name:"projects",fc:!0,va:11,type:j2}}));return a};i2.Ba=i2.prototype.Ba;
j2.prototype.Ba=function(){var a=JHd;a||(JHd=a=vv(j2,{0:{name:"BigQueryProject",Ab:"ritzproto.BigQueryProject"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String}}));return a};j2.Ba=j2.prototype.Ba;KHd.prototype.Ba=function(){var a=LHd;a||(LHd=a=vv(KHd,{0:{name:"GetQueryRequest",Ab:"ritzproto.GetQueryRequest"},1:{name:"query_id",va:9,type:String}}));return a};KHd.Ba=KHd.prototype.Ba;
k2.prototype.Ba=function(){var a=MHd;a||(MHd=a=vv(k2,{0:{name:"GetQueryResponse",Ab:"ritzproto.GetQueryResponse"},1:{name:"found",va:8,type:Boolean},2:{name:"query",va:11,type:M1}}));return a};k2.Ba=k2.prototype.Ba;NHd.prototype.Ba=function(){var a=OHd;a||(OHd=a=vv(NHd,{0:{name:"GetExecutionStatusRequest",Ab:"ritzproto.GetExecutionStatusRequest"},1:{name:"query_id",va:9,type:String}}));return a};NHd.Ba=NHd.prototype.Ba;
l2.prototype.Ba=function(){var a=PHd;a||(PHd=a=vv(l2,{0:{name:"GetExecutionStatusResponse",Ab:"ritzproto.GetExecutionStatusResponse"},1:{name:"execution_status",va:11,type:zv}}));return a};l2.Ba=l2.prototype.Ba;function QHd(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function RHd(){return P('<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>')}
function SHd(){var a='<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"The data you query is visible to everyone with view access, but your query is only visible to people with edit access.</div>")};function THd(){return P('<svg class="waffle-dataconnector-close-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')}
function UHd(){return P('<svg class="waffle-dataconnector-refresh-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17.65,7.35 C16.2,5.9 14.21,5 12,5 C7.58,5 4.01,8.58 4.01,13 C4.01,17.42 7.58,21 12,21 C15.73,21 18.84,18.45 19.73,15 L17.65,15 C16.83,17.33 14.61,19 12,19 C8.69,19 6,16.31 6,13 C6,9.69 8.69,7 12,7 C13.66,7 15.14,7.69 16.22,8.78 L13,12 L20,12 L20,5 L17.65,7.35 Z" id="dataconnector-refresh-icon-path-1"></path></defs><g id="icons/refresh" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, -1.000000)"><rect id="Rectangle" x="0" y="1" width="24" height="24"></rect><mask id="dataconnector-refresh-icon-mask-2" fill="white"><use xlink:href="#dataconnector-refresh-icon-path-1"></use></mask><use id="Shape" fill="#4285F4" fill-rule="nonzero" xlink:href="#dataconnector-refresh-icon-path-1"></use><g id="colors/Black---100" mask="url(#dataconnector-refresh-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function VHd(){return P('<svg class="waffle-dataconnector-error-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z" id="dataconnector-error-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/error"><g id="ic_error_outline_24px" transform="translate(2.000000, 2.000000)"><mask id="dataconnector-error-icon-mask-2" fill="white"><use xlink:href="#dataconnector-error-icon-path-1"></use></mask><g id="Shape" fill-rule="nonzero"></g><g id="colors/Red" mask="url(#dataconnector-error-icon-mask-2)" fill="#D0021B"><g transform="translate(-2.000000, -2.000000)" id="Shape"><polygon points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></g></svg>')}
function WHd(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon-filled" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z" id="dataconnector-error-filled-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/error-filled"><g id="ic_error_outline_24px" transform="translate(2.000000, 2.000000)"><mask id="dataconnector-error-filled-icon-mask-2" fill="white"><use xlink:href="#dataconnector-error-filled-icon-path-1"></use></mask><g id="Shape" fill-rule="nonzero"></g><g id="colors/Red" mask="url(#dataconnector-error-filled-icon-mask-2)" fill="'+
Q(null==a?"#D0021B":a)+'"><g transform="translate(-2.000000, -2.000000)" id="Shape"><polygon points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></g></svg>';return P(a)}
function XHd(){return P('<svg class="waffle-dataconnector-bigquery-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BigQuery</title><defs><path d="M17.6210231,14.9676464 C17.7267041,14.964158 17.8336481,14.999598 17.9136667,15.0739664 L21.2187334,18.1431672 C21.3715333,18.2853017 21.3715333,18.5181274 21.2187334,18.6604475 L19.8908,19.8929813 C19.7375334,20.0356729 19.4867333,20.0356729 19.3334666,19.8929813 L16.0288667,16.8252043 C15.9483809,16.7504669 15.9100327,16.6511429 15.9138223,16.5530387 C14.5318646,17.5088871 12.8185327,18.0746254 10.962963,18.0746254 C6.38121025,18.0746254 2.66666667,14.6253786 2.66666667,10.3707987 C2.66666667,6.11585235 6.38121025,2.66666667 10.962963,2.66666667 C15.5447814,2.66666667 19.259325,6.11585235 19.2592593,10.3708597 C19.2592593,12.0936892 18.6501585,13.6844725 17.6210231,14.9676464 Z M10.9627632,16.1481946 C14.3991593,16.1481946 17.1851852,13.5615621 17.1851852,10.3706486 C17.1851852,7.17973497 14.3992258,4.59254616 10.9627632,4.59254616 C7.52630064,4.59254616 4.74074074,7.17967314 4.74074074,10.3706486 C4.74074074,13.561624 7.52630064,16.1481946 10.9627632,16.1481946 Z M6.81481481,10.3703704 L8.88888889,10.3703704 L8.88888889,14.0029401 C8.03391111,13.6464441 7.31942754,13.1505168 6.81481481,12.5594013 L6.81481481,10.3703704 Z M9.92592593,8.44442896 L12,8.44442896 L12,14.1665272 C11.6766072,14.200082 11.3475683,14.2222532 11.0093815,14.2222532 C10.6390341,14.2222532 10.2784063,14.1975885 9.92592593,14.1574203 L9.92592593,8.44442896 Z M13.044326,11.3333411 L15.1184,11.3333411 L15.1184,12.4901418 C14.6287957,13.0790718 13.9116201,13.5742789 13.044326,13.933362 L13.044326,11.3333411 Z" id="dataconnector-bigquery-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/db/big-query"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-bigquery-icon-mask-2" fill="white"><use xlink:href="#dataconnector-bigquery-icon-path-1"></use></mask><use id="Shape" fill="#37474F" fill-rule="nonzero" xlink:href="#dataconnector-bigquery-icon-path-1"></use><g id="colors/Black---100" mask="url(#dataconnector-bigquery-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></svg>')}
function YHd(){return P('<svg class="waffle-dataconnector-plx-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Plx</title><defs><path d="M10.9418364,5.81385031 L14.4202032,5.81385031 L15.1116898,1.66493056 L18.8939326,1.66493056 L18.202446,5.81385031 L21.3350694,5.81385031 L21.3350694,8.92554012 L17.683831,8.92554012 L16.9923444,13.0744599 L21.3350694,13.0744599 L21.3350694,16.1861497 L16.4737294,16.1861497 L15.7822428,20.3350694 L12,20.3350694 L12.6914866,16.1861497 L9.21311982,16.1861497 L8.5216332,20.3350694 L4.73939043,20.3350694 L5.43087706,16.1861497 L2.66493056,16.1861497 L2.66493056,13.0744599 L5.94949203,13.0744599 L6.64097865,8.92554012 L2.66493056,8.92554012 L2.66493056,5.81385031 L7.15959362,5.81385031 L7.85108025,1.66493056 L11.633323,1.66493056 L10.9418364,5.81385031 Z M10.4232214,8.92554012 L9.73173479,13.0744599 L13.2101016,13.0744599 L13.9015882,8.92554012 L10.4232214,8.92554012 Z" id="dataconnector-plx-icon-path-1"></path></defs><g id="icons/db/PLX" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, 1.000000)"><rect id="Rectangle" x="0" y="0" width="24" height="24"></rect><mask id="dataconnector-plx-icon-mask-2" fill="white"><use xlink:href="#dataconnector-plx-icon-path-1"></use></mask><g id="Combined-Shape"></g><g id="colors/Black---100" mask="url(#dataconnector-plx-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')};function ZHd(a,b){H1.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);XGd(this,this.qa().Ma("SPAN",void 0,N(XHd),"BigQuery query settings"));this.J=a.C;this.D=new fU;this.Ya(this.D);this.D.Gd("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");this.D.setContent("Billing project");this.F=new uU("Write query");this.Ya(this.F);this.F.Gd("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button")}q(ZHd,H1);
ZHd.prototype.Ma=function(){H1.prototype.Ma.call(this);hr(this.Ob(),RHd);hr(WGd(this),SHd);this.D.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};
ZHd.prototype.Za=function(){H1.prototype.Za.call(this);if(0==this.J.length){this.D.mb(!1);var a=this.D;a.F="No billing projects";a.uD();a=this.qa();a.appendChild(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-section"),a.Ma("DIV","waffle-dataconnector-bigqueryquerysettingsdialog-error-caption","Configure a project in the Google Cloud Platform console to continue"))}else{a=this.J;for(var b=0;b<a.length;b++){var c=a[b];this.D.Ad(new Kk(c.getName(),c.getId()))}this.getHandler().R(this.F,
"action",this.O).R(this.D,"change",this.L)}this.L()};ZHd.prototype.L=function(){this.F.mb(null!=this.D.Te())};ZHd.prototype.O=function(){this.resolve($Hd(this))};function $Hd(a){var b=a.D.Te().eb();return new QHd(a.J,b)};function aId(){this.C=null;this.Rc=new xv}aId.prototype.Ff=ca("C");function bId(a,b){a.Rc.Pg=!0;var c=bm(a.Rc.serialize(b));return new qf(function(b,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef("/dbx/createConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.Rc.Pg=!1;c=a.Rc.kd(Q1.Ba(),c.nf());c.Ao()?e(c):b(c)}),function(){var a=new Q1;W(a,1,!1);W(a,3,1);e(a)}).Ge()})}
function cId(a,b){a.Rc.Pg=!0;var c=a.Rc.serialize(b);return dId(V(b,2))?m2("dbx",c).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(S1.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new S1,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,e){n2(a,"/dbx/createQuery",c,function(c){a.Rc.Pg=!1;c=a.Rc.kd(S1.Ba(),c.nf());3==c.Hj().getState()?e(c):b(c)},function(){var a=new S1,b=new zv;W(a,1,b);b.Pb(3);F1(b);e(a)})})}
function eId(a,b){a.Rc.Pg=!0;var c=bm(a.Rc.serialize(b));return new qf(function(b,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef("/dbx/importConnection"),"POST")),1).setTimeout(3E4),["data",c]),function(){b()}),function(){e()}).Ge()})}
function fId(a,b){a.Rc.Pg=!0;var c=a.Rc.serialize(b);return dId(V(b,2))?m2("dbx:previewQuery",c).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(U1.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new U1,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,e){n2(a,"/dbx/previewQuery",c,function(c){a.Rc.Pg=!1;c=a.Rc.kd(U1.Ba(),c.nf());3==c.Hj().getState()?e(c):b(c)},function(){var a=new U1,b=new zv;W(a,1,b);b.Pb(3);F1(b);e(a)})})}
function gId(a,b,c){a.Rc.Pg=!0;var d=a.Rc.serialize(b);return 3==c?m2("dbx:refreshSheet",d).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(X1.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new X1,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,c){n2(a,"/dbx/refreshSheet",d,function(d){a.Rc.Pg=!1;d=a.Rc.kd(X1.Ba(),d.nf());3==d.Hj().getState()?c(d):b(d)},function(){var a=new X1,b=new zv;W(a,1,b);b.Pb(3);F1(b);c(a)})})}
function hId(a,b){a.Rc.Pg=!0;var c=a.Rc.serialize(b);return dId(V(b,2))?m2("dbx:editQuery",c).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(b2.Ba(),b.result);return 3==b.Hj().getState()?uf(b):b},function(){var a=new b2,b=new zv;W(a,1,b);b.Pb(3);F1(b);return uf(a)}):new qf(function(b,e){n2(a,"/dbx/editQuery",c,function(c){a.Rc.Pg=!1;c=a.Rc.kd(b2.Ba(),c.nf());3==c.Hj().getState()?e(c):b(c)},function(){var a=new b2,b=new zv;W(a,1,b);b.Pb(3);F1(b);e(a)})})}
function iId(a){return new qf(function(b,c){lu(Cs($m(Zm($u(Ds(a.C.ef("/dbx/listConnections"),"GET")),1).setTimeout(3E4),"currentWorkbookOnly","true"),function(c){a.Rc.Pg=!1;c=a.Rc.kd(zHd.Ba(),c.nf());b(c)}),c).Ge()})}
function jId(a,b,c){a.Rc.Pg=!0;var d=a.Rc.serialize(b);return 3==c?m2("dbx:getTables",d).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(Z1.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new Z1;W(a,1,!1);W(a,2,1);return uf(a)}):new qf(function(b,c){n2(a,"/dbx/getTables",d,function(d){a.Rc.Pg=!1;d=a.Rc.kd(Z1.Ba(),d.nf());d.Ao()?c(d):b(d)},function(){var a=new Z1;W(a,1,!1);W(a,2,1);c(a)})})}
function kId(a,b,c){a.Rc.Pg=!0;var d=a.Rc.serialize(b);return 3==c?m2("dbx:getColumns",d).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(f2.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new f2;W(a,1,!1);W(a,2,1);return uf(a)}):new qf(function(b,c){n2(a,"/dbx/getColumns",d,function(d){a.Rc.Pg=!1;d=a.Rc.kd(f2.Ba(),d.nf());d.Ao()?c(d):b(d)},function(){var a=new f2;W(a,1,!1);W(a,2,1);c(a)})})}
function lId(a,b){a.Rc.Pg=!0;var c=bm(a.Rc.serialize(b));return new qf(function(b,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef("/dbx/getQuery"),"POST")),1).setTimeout(3E4),["data",c]),function(c){a.Rc.Pg=!1;c=a.Rc.kd(k2.Ba(),c.nf());b(c)}),e).Ge()})}function mId(a,b){a.Rc.Pg=!0;b=a.Rc.serialize(b);return m2("dbx:getBigQueryProjects",b).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(i2.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new i2;W(a,1,!1);W(a,2,1);return uf(a)})}
function nId(a,b){a.Rc.Pg=!0;b=a.Rc.serialize(b);return m2("dbx:getDatasets",b).then(function(b){a.Rc.Pg=!0;b=a.Rc.kd(h2.Ba(),b.result);return b.Ao()?uf(b):b},function(){var a=new h2;W(a,1,!1);W(a,2,1);return uf(a)})}function dId(a){return 3==(V(a,4)?3:V(a,2)?2:V(a,1)?1:0)}function n2(a,b,c,d,e){lu(Cs(Wu(Zm($u(Ds(a.C.ef(b),"POST")),1).setTimeout(3E4),["data",bm(c)]),d),e).Ge()}
function m2(a,b){var c=Qz.getInstance(),d=c.C.gaiaSessionId;d&&gapi.config.update("googleapis.config/sessionIndex",d);gapi.config.update("googleapis.config/auth/useFirstPartyAuth",!0);gapi.config.update("googleapis.config/auth/useFirstPartyAuthV2",!0);d=H();var e="https://"+yh(d,"rfpd");c=c.C.cosmoId;b=bm([c,b]);gapi.client.setApiKey(yh(d,"rfpak"));return gapi.client.request({method:"POST",root:e,path:"v4/spreadsheets/"+c+"/"+a,body:b,params:{alt:"protojson"},headers:{"Content-Type":"application/json+protobuf"}})}
aId.prototype.Hj=function(a){var b=this;this.Rc.Pg=!0;var c=this.Rc.serialize(a);return new qf(function(a,e){n2(b,"/dbx/getExecutionStatus",c,function(c){b.Rc.Pg=!1;c=b.Rc.kd(l2.Ba(),c.nf());a(c)},function(){e()})})};ta(aId);function oId(a,b){this.D=a;this.C=b}function pId(a,b,c){var d=new Y1;W(d,1,a.C);W(d,2,b);W(d,3,c);return jId(a.D,d,3).then(function(a){return tv(a,4)})}function qId(a,b){var c=new d2;W(c,1,a.C);W(c,2,b);return kId(a.D,c,3).then(function(a){return tv(a,4)})}function rId(a,b){var c=new g2;W(c,2,b);W(c,1,a.C);return nId(a.D,c).then(function(a){return tv(a,4)})}function sId(a){var b=new GHd;W(b,1,a.C);return mId(a.D,b).then(function(a){return tv(a,4)})};function o2(a,b){yq.call(this,"waffle-dataconnector-prompt",a,b);this.L=wf();Oq(this,null);Nq(this,!0);this.C=new ZR("Continue");this.Ya(this.C);this.J=new YR("Cancel");this.Ya(this.J);this.O=[]}q(o2,yq);p=o2.prototype;p.Gd=function(a){this.O.push(a);var b=this.getElement();b&&Kh(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};
p.Ma=function(){yq.prototype.Ma.call(this);var a=Dq(this);this.J.render(a);this.C.render(a);L(a,!0)};p.Za=function(){var a=this;yq.prototype.Za.call(this);for(var b=ha(this.O),c=b.next();!c.done;c=b.next())Kh(this.qb(),c.value);this.getHandler().R(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){yq.prototype.setVisible.call(this,a);a||this.reject()};p.Xa=function(){yq.prototype.Xa.call(this);this.reject()};function tId(a,b){o2.call(this,a,b)}q(tId,o2);tId.prototype.Za=function(){var a=this;o2.prototype.Za.call(this);this.getHandler().R(this.C,"action",function(){return a.resolve(0)})};function uId(a){var b='<div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Access &amp; security.";var c="";c=a.ZJa?c+"<p>Plx is an internal-only connection that's visible only to Googlers.</p><p>People outside of google.com will see Plx as an unnamed connection.":c+"<p>Database passwords and user IDs are not shared amongst collaborators.";c=P(c+"</p>");b+="</h3>"+
c+'</div><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Who can see data &amp; queries";c="<p>Users who can view the spreadsheet will be able to see the data.</p>";c=a.ZJa?c+"<p>Google users who can edit the spreadsheet will be able to view and modify the query.</p><p>Users outside of google.com who can view the spreadsheet will be able to view the data, but will not be able to view or refresh the query.":c+"<p>Users who can edit the spreadsheet can view and modify the query only after they've signed into the database.";
a=P(c+"</p>");return P(b+("</h3>"+a+"</div></div>"))};function vId(){return P('<div class="'+Q("waffle-dataconnector-dialog-progress-message")+'"><div class="'+Q("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+Q("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function wId(a){XP.call(this,a);this.D=!1}q(wId,XP);wId.prototype.Ma=function(){XP.prototype.Ma.call(this);Kh(this.getElement(),"waffle-progress-bar");Oh(this.getElement(),"waffle-indeterminate-progress-bar",this.D)};function xId(a,b){a.D!=b&&(a.D=b,a.getElement()&&Oh(a.getElement(),"waffle-indeterminate-progress-bar",b))}wId.prototype.ob=function(a){xId(this,!1);XP.prototype.ob.call(this,a)};
function yId(a,b){xId(a,!1);var c={width:a.eb()+"%"},d={width:b+"%"};c=new Zq(a.$a("progress-bar-thumb"),1,c,d,{og:"width",duration:1,timing:"ease-in",Nl:0});c.Sc("end",function(){XP.prototype.ob.call(a,b)});c.play()};function p2(a,b){yq.call(this,"waffle-dataconnector-dialog",a,b);Oq(this,null);this.cz(!1);Nq(this,!0);this.rb=[];this.zb=new ZR("Ok");this.Ya(this.zb);this.sb=new YR("Cancel");this.Ya(this.sb);this.ub=new qj;this.Kb=Pj(new Oj,1).build();this.Nb=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.Qb=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.Wb=N(vId);this.L=new wId;xId(this.L,!0);this.Ya(this.L)}q(p2,yq);function zId(a,b,c){wj(a.ub,a.zb,b,yj,c,a.Kb)}
function AId(a){wj(a.ub,a.sb,o7a,yj,void 0,a.Kb)}function BId(a){var b=["waffle-dataconnector-queryeditor"];a.Sb()&&(Nh(a.qb(),a.rb),Lh(a.qb(),b));a.rb=b}
p2.prototype.Ma=function(){yq.prototype.Ma.call(this);Lh(this.qb(),this.rb);var a=Dq(this),b=this.qa().Ma("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.sb.render(b);this.zb.render(b);L(a,!0);b=this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.Nb,this.Qb,this.Wb);a.appendChild(b);this.L.render(this.$a("waffle-dataconnector-dialog-progress-bar"));hr(gDa(this),eAc)};
p2.prototype.Za=function(){yq.prototype.Za.call(this);q2(this);Dh(this.Nb,"live","polite");Dh(this.Qb,"live","polite");Dh(this.Wb,"live","polite")};p2.prototype.cz=function(a){yq.prototype.cz.call(this,a);Jq(this,this.GJ?0:.6)};function CId(a,b){a=a.$a("waffle-dataconnector-dialog-error-message");wd(a,b||od(""));L(a,!!b)}function DId(a,b){a=a.$a("waffle-dataconnector-dialog-info-message");wd(a,b||od(""));L(a,!!b)}
function EId(a,b,c){we(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&yId(a.L,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}function q2(a){CId(a,null);DId(a,null);a.L.ob(0);xId(a.L,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)};function FId(a,b,c,d){p2.call(this,c,d);zq(this,"Connected");this.F=a;this.C=b;AId(this);zId(this,v7a)}q(FId,p2);FId.prototype.Ma=function(){p2.prototype.Ma.call(this);hr(this.Ob(),uId,{ZJa:2==this.C})};function GId(a){return P('<div class="'+Q("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+Q("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+Q("waffle-dataconnector-connectioncard-body")+'"><div class="'+Q("waffle-dataconnector-connectioncard-header")+'">'+O(a.QO)+"</div></div></div>")};function HId(a,b,c,d){this.Jc=a;this.D=b;this.Dc=c;this.C=d}HId.prototype.getName=g("D");HId.prototype.getId=g("Jc");HId.prototype.getType=g("Dc");function IId(){this.Dc=this.Jc=this.D=null;this.C=!1}IId.prototype.Ke=function(a){this.D=a;return this};IId.prototype.vf=function(a){this.Jc=a;return this};IId.prototype.setType=function(a){this.Dc=a;return this};function JId(a){a.C=!0;return a}IId.prototype.build=function(){return new HId(this.Jc,this.D,this.Dc,this.C)};function KId(){}q(KId,jr);KId.prototype.Ma=function(a){a=a.tb();var b=N(GId,{QO:a.getName()});Oh(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};KId.prototype.hc=n("waffle-dataconnector-connectioncard");ta(KId);function LId(a,b){kr.call(this,void 0,KId.getInstance(),b);this.Hc(a);this.We(8,!0)}q(LId,kr);LId.prototype.Hc=function(a){kr.prototype.Hc.call(this,a)};function MId(){return P('<div class="'+Q("waffle-dataconnector-connectionmanager-content")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function NId(a,b){p2.call(this,a,b);zq(this,"Managed connections");this.C=new Kr;this.xa(this.C);this.F=new M(this.qa());this.Ya(this.F);this.J=new OT;this.Ya(this.J);zId(this,WA);AId(this)}q(NId,p2);NId.prototype.Ma=function(){p2.prototype.Ma.call(this);hr(this.Ob(),MId)};
NId.prototype.Za=function(){p2.prototype.Za.call(this);this.J.render(this.$a("waffle-dataconnector-connectionmanager-content"));this.F.yb(this.$a("waffle-dataconnector-connectionmanager-connections"));this.getHandler().R(this.F,"action",this.O).R(this.C,"select",this.ma);OId(this,!0)};function OId(a,b){Oh(a.qb(),"waffle-dataconnector-connectionmanager-loading",b);PT(a.J,b)}
function PId(a,b){var c=a.$a("waffle-dataconnector-connectionmanager-authorized");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=new LId(d.value),a.F.Ya(d),d.render(c)}NId.prototype.O=function(a){a.stopPropagation();Lr(this.C,a.target)};NId.prototype.ma=function(){var a=(a=(a=this.C.Te())&&a)&&a.tb();WA.ob(a)};function QId(a){var b='<div class="'+Q("waffle-dataconnector-bar")+'"><div class="'+Q("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Data connection: "+Q(a.QO);b+=tr(c);b+='">'+O(a.QO)+'</div><div class="'+Q("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-error-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-bar-refresh-button-wrapper")+
'"></div><div class="'+Q("waffle-dataconnector-bar-progress")+'"><div class="'+Q("waffle-dataconnector-bar-spinner")+'"></div><span class="'+Q("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return P(b)};function RId(a,b,c,d){wU.call(this,d);this.V=a;this.O=new qj;this.xa(this.O);this.Ra=c;this.C=new vU;this.Ya(this.C);this.C.Gd("waffle-dataconnector-bar-editquery-button");wj(this.O,this.C,q7a,yj);this.D=new vU;this.Ya(this.D);this.D.Gd("waffle-dataconnector-bar-refresh-button");wj(this.O,this.D,w7a,yj);this.H=new vU(this.qa().Ma("SPAN",void 0,N(WHd,{color:"#FF8897"}),"Error in query execution"));this.Ya(this.H);this.H.Gd("waffle-dataconnector-bar-error-button");wj(this.O,this.H,u7a);this.Aa=new SId}
q(RId,wU);RId.prototype.psa=function(){return N(QId,{QO:Ub(this.V,64)})};RId.prototype.Za=function(){wU.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-bar-editquery-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-bar-refresh-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-bar-error-button-wrapper"));TId(this,!1,!1)};RId.prototype.Bia=n("waffle-dataconnector-bar-wrapper");RId.prototype.focus=function(){this.qb().focus()};
function UId(a,b){TId(a,!0,!1);null!=b?(b="Executing query - "+(b+"%"),we(a.$a("waffle-dataconnector-bar-progress-message"),b)):we(a.$a("waffle-dataconnector-bar-progress-message"),"Executing query")}
function TId(a,b,c){Oh(a.qb(),"waffle-dataconnector-bar-executing",b);q7a.isEnabled()&&a.C.setVisible(!b);w7a.isEnabled()&&a.D.setVisible(!b);u7a.isEnabled()&&u7a.setVisible(!b&&c);L(a.$a("waffle-dataconnector-bar-timestamp"),!b);if(!(b||(c=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.Ra.toString()),0>=c))){c="Last refreshed "+a.Aa.format(c);var d=a.$a("waffle-dataconnector-bar-timestamp");we(d,c)}L(a.$a("waffle-dataconnector-bar-progress"),b)}
function SId(){this.C=new ct(1);this.D=new ct(ft.MONTH_DAY_MEDIUM);this.F=new ct(7)}SId.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function VId(){A.call(this);this.C={};this.Rc=new xv}q(VId,A);function WId(a,b,c){a.C[b]=c}function XId(a,b){var c=ritz_api.DbxApi.getExecutionStatusForQuery(b);c=null==c?null:a.Rc.kd(zv.Ba(),c);var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(xc(a.C,b),c):d:c};function YId(a,b,c,d,e,f){xU.call(this,"waffle-connectionbar-id",f);var h=this;IKc(this,function(){h.C.setVisible(!0,!0);DP()});this.J=a;this.H=b;this.D=c;this.L=d;this.F=e}q(YId,xU);p=YId.prototype;p.Ib=g("H");p.uu=function(){xU.prototype.uu.call(this);this.getHandler().R(this.F,"Jb",this.PAb);this.oB()};p.show=function(){xU.prototype.show.call(this);ZId(this)};
function ZId(a){var b=XId(a.L,a.D);if(b)switch(b.getState()){case 4:UId(a.C);break;case 1:UId(a.C,V(b,5));break;case 2:TId(a.C,!1,!1);break;case 3:TId(a.C,!1,!0)}}p.cQ=function(){return new RId(this.J,this.D,this.H)};p.PAb=function(a){this.isDisposed()||a.uh!=tA(this.F.C)||ZId(this)};function r2(a,b){M.call(this,b);this.D=new cU(a,this.qa());this.Ya(this.D);this.L=!1}q(r2,M);p=r2.prototype;p.Md=function(a){this.L=a;this.D.getHeader().zc(a)};p.refresh=function(){this.D.getHeader().zc(this.L)};p.focus=function(){Si(this.D.getHeader()).focus()};p.setContent=function(a){this.D.setContent(a)};p.Ob=function(){return this.D.Ob()};p.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget"));this.D.render(this.qb())};
p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this,["aftershow","afterhide"],function(a){return a.stopPropagation()}).R(this.D.getHeader(),["charteditor-collapsiblesectionheader-opened","charteditor-collapsiblesectionheader-closed"],this.bwb)};p.bwb=function(a){a.stopPropagation();this.L=this.D.getHeader().isChecked();this.dispatchEvent(Hi(64,this.L))};function $Id(a,b,c){b=c||b;return P('<div class="'+Q("waffle-dataconnector-draggablebar")+'">'+aJd(null,b)+"</div>")}function aJd(){return P('<div class="'+Q("waffle-dataconnector-draggablebar-handle")+'" tabindex="0"><div class="'+Q("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function bJd(a,b){M.call(this,b);this.D=a;this.Qc=this.F=null;this.H=new mk;this.xa(this.H);this.H.Od(this);this.C=0}q(bJd,M);p=bJd.prototype;p.Ma=function(){this.Lb(N($Id))};p.Wc=function(a){this.Lb(a);Kh(this.qb(),"waffle-dataconnector-draggablebar");hr(a,aJd)};
p.Za=function(){this.F=this.$a("waffle-dataconnector-draggablebar-handle");this.Qc=new tq(this.qb(),this.F);this.xa(this.Qc);this.Qc.C=!0;nk(this.H,this.F);this.getHandler().R(this.Qc,"start",this.$Jb).R(this.Qc,"drag",this.yLb).R(this.Qc,"end",this.ZJb);"vertical"==this.D?(qi(this.qb(),8),Kh(this.qb(),"waffle-dataconnector-draggablebar-vertical")):(ui(this.qb(),8),Kh(this.qb(),"waffle-dataconnector-draggablebar-horizontal"))};p.Zc=n(8);p.mb=function(a){this.Qc.mb(a)};
p.$Jb=function(){uq(this.Qc,cJd(this));this.dispatchEvent("Ie")};p.yLb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("Ge")};p.ZJb=function(){this.dispatchEvent("He")};function cJd(a){var b=a.qb().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.Zc()):(c=0,b-=a.Zc());return new Wh(0,0,b,c)};function dJd(a,b){var c=V(b,2),d=V(b,3);switch(c){case 20:return eJd(a,d);case 14:return s2('Update parameter "'+(V(b,6).toUpperCase()+'" to reference a cell in the current workbook and try again'));case 15:return s2('Update the cell referenced by parameter "'+(V(b,6).toUpperCase()+'" to be text or a number'));case 16:return s2("Select a parameter name you haven't used before");case 13:return s2('Define your parameter "'+(V(b,6).toUpperCase()+'" and try again'));case 6:return I(H(),"docs-idu")?(a=
new Ip,b=a.Ce("span",{"class":"waffle-dataconnector-error-message"})+("Query timed out. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.Je("a")+a.Je("span"))))),a=a.format(b)):a=fJd("Query timed out",d),a;case 8:return I(H(),"docs-idu")?(a=new Ip,b="Results exceed "+(gJd+(" rows. Update query and run again. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",
target:"_blank"})+("Learn more"+a.Je("a"))))),a=a.format(b),a=s2(a)):a=fJd(hJd,d),a;case 18:return s2("The query returns an ARRAY or a STRUCT type, which is currently not supported.");case 9:return a=new Ip,b="Go to Plx to specify an engine other than 'Auto' and try again. "+(a.Ce("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+a.Je("a"))),a=a.format(b),s2(a)}return iJd(d)}
function jJd(a){var b=new Ip;a=(new kt("To execute this query, {startLink}sign in to your Google account{endLink}")).format({startLink:b.Ce("a",{href:"#",id:a}),endLink:b.Je("a")});return b.format(a)}function eJd(a,b){if(!b)return iJd(b);switch(a){case 2:return s2("Plx error: "+b);case 3:return s2("BigQuery error: "+b);default:return s2("Database error: "+b)}}function iJd(a){return fJd("Something's wrong. Please try again later",a)}var gJd=(new it(1)).format(1E4),hJd="Results exceed "+(gJd+" rows. Update query and run again.");
function s2(a){return sd("span",{"class":"waffle-dataconnector-error-message"},a)}function fJd(a,b){var c=new Ip;b&&(a=a+": "+b);return s2(c.format(a))};function kJd(){var a='<div class="'+Q("waffle-dataconnector-textarea-editor")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-textarea-editor-textarea")+'" spellcheck="false" aria-label="';a+=tr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-textarea-editor-linegutter")+
'"><div class="'+Q("waffle-dataconnector-textarea-editor-linenumber-container")+'"></div></div></div></div>';return P(a)};function t2(a){M.call(this,a);this.Ud=!0}q(t2,M);t2.prototype.J=function(){this.dispatchEvent("Ke")};t2.prototype.mb=function(a){a!=this.Ud&&(this.Ud=a,this.Sb()&&lJd(this))};t2.prototype.isEnabled=g("Ud");function mJd(a,b){a=void 0===a?"":a;t2.call(this,b);this.F=this.C=null;this.H=new OT;this.Ya(this.H);this.D=a}q(mJd,t2);mJd.prototype.Ma=function(){this.Lb(N(kJd))};
mJd.prototype.Za=function(){var a=this;t2.prototype.Za.call(this);this.C=this.$a("waffle-dataconnector-textarea-editor-textarea");this.C.value=this.D;this.F=new os(this.C);this.xa(this.F);this.getHandler().R(this.C,"focus",function(){return nJd(a,!0)}).R(this.C,"blur",function(){return nJd(a,!1)}).R(this.C,"scroll",this.L).R(this.F,"input",this.J);this.H.render(this.$a("waffle-dataconnector-textarea-editor-textareawrapper"));lJd(this);oJd(this,!1)};
mJd.prototype.J=function(){t2.prototype.J.call(this);pJd(this)};function lJd(a){a.C.disabled=!a.isEnabled();Oh(a.qb(),"waffle-dataconnector-textarea-editor-disabled",!a.isEnabled());PT(a.H,!1)}function qJd(a){return a.Sb()?a.C.value:a.D}function oJd(a,b){L(a.$a("waffle-dataconnector-textarea-editor-overlay"),b)}function nJd(a,b){Oh(a.qb(),"waffle-dataconnector-textarea-editor-focused",b)}function rJd(a,b){a.Sb()?(a.C.value=b,lJd(a),pJd(a)):a.D=b}
function pJd(a){var b=qJd(a).split(/\r?\n/).length,c=a.$a("waffle-dataconnector-textarea-editor-linenumber-container"),d=c.childNodes;if(b<d.length)for(;d.item(b);)c.removeChild(d.item(b));else if(b>d.length)for(d=d.length+1;d<=b;d++)c.appendChild(sJd(a,d))}function sJd(a,b){return a.qa().Ma("DIV","waffle-dataconnector-textarea-editor-linenumber",""+b)}mJd.prototype.L=function(){var a=-this.C.scrollTop;gi(this.$a("waffle-dataconnector-textarea-editor-linenumber-container"),0,a)};function tJd(a){M.call(this,a);this.F=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.H=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.J=N(vId);this.C=new wId;xId(this.C,!0);this.Ya(this.C);this.D=!0}q(tJd,M);tJd.prototype.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.F,this.H,this.J));this.C.render(this.$a("waffle-dataconnector-dialog-progress-bar"))};
tJd.prototype.Za=function(){M.prototype.Za.call(this);u2(this);Dh(this.F,"live","polite");Dh(this.H,"live","polite");Dh(this.J,"live","polite")};function uJd(a,b){var c=a.$a("waffle-dataconnector-dialog-error-message");u2(a);wd(c,b||od(""));L(c,!!b)}function u2(a){var b=a.$a("waffle-dataconnector-dialog-error-message");wd(b,od(""));L(b,!1);b=a.$a("waffle-dataconnector-dialog-info-message");wd(b,od(""));L(b,!1);a.C.ob(0);xId(a.C,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)}
tJd.prototype.isVisible=g("D");tJd.prototype.setVisible=function(a){this.D=a;this.Sb()&&L(this.qb(),this.D)};function vJd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-content")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-pane")+'"></div></div><div class="'+Q("waffle-dataconnector-newqueryeditor-sidebar")+'"></div></div>')}
function wJd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-message-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div></div>')};function xJd(a){a=a.iTb;var b='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div>';a&&(b+='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">',b+="Reference cell</div></div>");return P(b)};function yJd(a){yU.apply(this,arguments)}q(yJd,yU);yJd.prototype.eb=function(){return this.C.eb()};yJd.prototype.K0=function(a){this.C.ob(a);return!0};function zJd(a,b){G1.call(this,"waffle-dataconnector-query-parameter-prompt",b);XGd(this,"Query Parameter");this.Qc=null;this.sb=!1;this.Sb()&&VGd(this);this.J=new ZR;this.xa(this.J);this.J.Gd("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new yJd("text","Name","float","",void 0);this.Ya(this.H);this.H.Gd("waffle-dataconnector-query-parameter-prompt-name-field");this.H.ma=!0;this.F=new yJd("text","Value","float","",void 0);this.Ya(this.F);this.F.Gd("waffle-dataconnector-query-parameter-prompt-value-field");
this.F.ma=!0;b=this.qa();this.L=new kr(N(PIc),Pi(jr,"waffle-dataconnector-query-parameter-prompt-rangepicker"),b);b=this.F;var c=this.L;C(b.Aa);b.Aa=c;b.Sb()&&b.Aa&&b.Aa.render(b.$a("waffle-material-labeledinput-embeddedcontrol"));this.D=null;a&&(this.D=new RP,this.Ya(this.D),this.D.Gd("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle"))}q(zJd,G1);p=zJd.prototype;p.Ke=function(a){this.H.ob(a)};p.ob=function(a){this.F.ob(a)};p.getName=function(){return this.H.eb()};p.eb=function(){return this.F.eb()};
function AJd(a,b){a.D&&(a.D.zc(b),a.$Ma())}function BJd(a){return null==a.D||a.D.isChecked()}p.clear=function(){this.H.ob("");this.F.ob("");zU(this.H,!1);zU(this.F,!1);this.D&&this.D.zc(!1)};
p.Ma=function(){G1.prototype.Ma.call(this);hr(this.Ob(),xJd,{iTb:!!this.D});this.H.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));this.F.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));if(this.D){var a=this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label");Ii(this.D,a);cAc(this.D,a)}this.J.render(WGd(this))};
p.Za=function(){var a=this;G1.prototype.Za.call(this);this.Qc=new tq(this.qb(),this.$a("waffle-dataconnector-modal-header"));this.xa(this.Qc);L(this.Rq(),!1);this.getHandler().R(this.J,"action",this.CHa).R(this.L,"action",function(){return a.dispatchEvent("Me")});this.D&&(this.getHandler().R(this.D,"change",this.$Ma),cAc(this.D,this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label")));CJd(this)};p.od=ba();
p.CHa=function(){var a=this.H.eb();(a=Kb(a)?"Please enter a parameter name":null)&&zU(this.H,!0,a);a:{var b=this.F.eb();if(Kb(b))b="Please enter a parameter value";else{if(BJd(this)&&(b=ritz_api.DbxApi.parseQueryParameterRange(b).getErrorMessage()))break a;b=null}}b&&zU(this.F,!0,b);a||b||this.dispatchEvent("Le")};p.$Ma=function(){CJd(this);this.L.setVisible(BJd(this))};function CJd(a){var b=BJd(a)?"Cell reference":"Value";a.F.setContent(b)}p.y7=function(){this.dispatchEvent("Ne")};p.t7=function(){this.dispatchEvent("Ne")};
p.SGa=function(a){13==a.keyCode&&this.CHa()};function DJd(a){return P('<span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-content")+'"><span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-name")+'">'+O(a.name)+':</span>&nbsp;<span class="'+Q("waffle-dataconnector-queryeditor-queryparameterchip-value")+'">'+O(a.value)+"</span></span>")};function v2(a,b){M.call(this,b);this.C=new kr(void 0,EJd.getInstance(),this.qa());this.Ya(this.C,!0);this.C.setContent(a);this.D=new kr(N(THd),FJd.getInstance(),this.qa());this.Ya(this.D,!0)}q(v2,M);v2.prototype.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip"))};
v2.prototype.Za=function(){var a=this;M.prototype.Za.call(this);Oh(this.qb(),"waffle-dataconnector-queryeditor-removable-chip-error",!1);this.getHandler().R(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Oe")}).R(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("Pe")})};v2.prototype.setContent=function(a){this.C.setContent(a)};v2.prototype.setVisible=function(a){var b=this.getElement();b&&L(b,a)};function FJd(){}q(FJd,jr);FJd.prototype.hc=n("waffle-dataconnector-queryeditor-removable-chip-remove-button");
ta(FJd);function EJd(){}q(EJd,jr);EJd.prototype.Ma=function(a){var b=jr.prototype.Ma.call(this,a);a.qa().appendChild(b,N(WHd));a.qa().appendChild(b,a.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip-chip-content"));return b};EJd.prototype.Ob=function(a){return Xd("waffle-dataconnector-queryeditor-removable-chip-chip-content",a)};EJd.prototype.hc=n("waffle-dataconnector-queryeditor-removable-chip-button");ta(EJd);var GJd=new xv;function HJd(a){var b=V(a,3),c=V(a,4);if(b)a:if(c=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1)){if(b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(b))if(b=ritz_api.RitzModelApi.getNamedRangeById(b)){c=GJd.kd(vz.Ba(),b).getName();break a}c=GJd.kd(Lv.Ba(),c);c=ritz_api.DbxApi.getA1AddressForCoordinate(c.Ib(),c.yc(),c.xc())||"#REF"}else c="#REF";else c?(b=c.Ib(),a=c.Xp(),c=c.getColumnIndex(),c=ritz_api.DbxApi.getA1AddressForCoordinate(b,a,c)||"#REF"):c=V(a,2);return c};function IJd(a,b){v2.call(this,JJd(a),b);this.Hc(a.clone())}q(IJd,v2);IJd.prototype.Hc=function(a){v2.prototype.Hc.call(this,a.clone());this.setContent(JJd(a))};IJd.prototype.tb=function(){return v2.prototype.tb.call(this).clone()};function JJd(a){var b=a.getName().toUpperCase();a=HJd(a);return N(DJd,{name:b,value:a})};function KJd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div></div>')}
function LJd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-query-parameters-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11.5294118,5.01960784 L11.2941176,4.2745098 C10.9411765,3.21568627 10.1176471,1.33333333 7.80392157,0 L1.80392157,1.96078431 L2.11764706,2.90196078 C3.60784314,2.31372549 3.88235294,2.31372549 4.15686275,2.31372549 C5.68627451,2.31372549 6.47058824,3.64705882 7.29411765,5.88235294 L8.58823529,9.45098039 L6.19607843,13.254902 C5.09803922,14.9803922 4.70588235,15.5686275 4.2745098,15.5686275 C3.56862745,15.5686275 4.19607843,13.8039216 2.35294118,13.8039216 C0.784313725,13.8039216 0,14.8235294 0,16.0784314 C0,17.3333333 1.09803922,18.4313725 3.05882353,18.4313725 C5.64705882,18.4313725 7.1372549,16.4705882 8.15686275,14.745098 L9.56862745,12.3137255 L10.7058824,15.254902 C11.254902,16.7058824 12,18.4313725 14.3137255,18.4313725 C16.745098,18.4313725 18.1568627,15.9215686 18.9803922,12.745098 L18.0392157,12.745098 C17.2156863,15.2156863 16.5490196,15.4117647 15.8823529,15.4117647 C15.0980392,15.4117647 14.8627451,14.0392157 14.5882353,13.2941176 L12.6666667,7.88235294 L14.5098039,4.78431373 C15.2156863,3.60784314 15.4509804,3.21568627 16,3.21568627 C16.5490196,3.21568627 16.3921569,4.54901961 17.5686275,4.54901961 C19.8039216,4.54901961 20,2.82352941 20,1.96078431 C20,1.05882353 19.0196078,0 17.1764706,0 C14.9411765,0 13.254902,2.35294118 12.3921569,3.68627451 L11.5294118,5.01960784 Z" id="dataconnector-parameters-icon-path"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/parameters"><g id="Group" transform="translate(2.000000, 3.000000)"><mask id="dataconnector-parameters-icon-mask-2" fill="white"><use xlink:href="#dataconnector-parameters-icon-path"></use></mask><g id="\ud835\udc99"></g><g id="colors/Black---100" mask="url(#dataconnector-parameters-icon-mask-2)" fill="#000000"><g transform="translate(-2.857143, -4.285714)" id="Shape"><polygon points="0 0 26 0 26 26 0 26"></polygon></g></g></g></g></g></svg>');return b(c+
O(d)+"<div>"+O(a.title)+"</div></div>")};function MJd(a){r2.call(this,N(LJd,{title:"Parameters"}),a);this.F=new M;this.Ya(this.F);this.C=new NJd;this.H=new ZR("Add");this.Ya(this.H);this.H.Gd("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button")}q(MJd,r2);p=MJd.prototype;
p.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(KJd));this.F.yb(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.H.render(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ha(this.C.xd()),b=a.next();!b.done;b=a.next())b.value.render(this.F.getElement())};p.Za=function(){r2.prototype.Za.call(this);this.getHandler().R(this.F,"Oe",this.bKb).R(this.F,"Pe",this.Xyb).R(this.H,"action",this.zib)};
function OJd(a){return a.C.xd().map(function(a){return a.tb()})}function PJd(a,b){QJd(b);var c=b.getName();if(a.C.get(c))throw new RJd("Parameter with name '"+c+"' is\nalready defined.");b=new IJd(b,a.qa());a.C.set(c,b);a.F.Ya(b,a.Sb())}p.bKb=function(a){a.stopPropagation();this.dispatchEvent(new SJd("Se",this,a.target.tb()))};p.Xyb=function(a){a.stopPropagation();this.dispatchEvent(new SJd("Re",this,a.target.tb()))};p.zib=function(a){a.stopPropagation();this.dispatchEvent(new SJd("Qe",this))};
function NJd(){this.Fb={}}p=NJd.prototype;p.get=function(a){return this.Fb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.Fb["P_"+a.toUpperCase()]};p.set=function(a,b){this.Fb["P_"+a.toUpperCase()]=b};p.xd=function(){return Object.values(this.Fb)};p.clear=function(){for(var a=Object.keys(this.Fb),b=0;b<a.length;b++)delete this.Fb[a[b]]};
function QJd(a){var b=a.getName();if(!b)throw new TJd("Parameters must have a name");var c=V(a,2),d=V(a,3);a=V(a,4);if(!c&&!d&&!a)throw new TJd("Parameter '"+b+"'has no value set.");}function TJd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(TJd,Error);function RJd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(RJd,Error);
function UJd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(UJd,Error);function SJd(a,b,c){D.call(this,a,b);this.C=c}q(SJd,D);function VJd(a,b,c,d){E.call(this);this.J=new Rh(this);this.xa(this.J);this.H=new Rh(this);this.xa(this.H);this.D=a;this.C=null;this.V=c;this.O=b;this.F=null;this.L=d;this.J.R(this.D,"Qe",this.JEb).R(this.D,"Re",this.KEb).R(this.D,"Se",this.LEb)}q(VJd,E);p=VJd.prototype;p.Xa=function(){this.F&&this.F.xD();this.F=null;C(this.C)};
p.JEb=function(){this.PO();this.C=new zJd(2==this.L);this.C.render();this.C.J.setContent("Add");AJd(this.C,!1);this.C.setVisible(!0);(new Vj(this.D.Ob(),0)).od(this.C.qb(),0);var a=this.C;this.H.R(a,"Le",this.XHb).R(a,"Ne",this.PO).R(a,"Me",this.rRa)};p.LEb=function(a){a=a.C;this.PO();this.C=new zJd(2==this.L);this.C.render();this.C.Ke(a.getName());this.C.ob(HJd(a));AJd(this.C,!mv(a,2));this.C.J.setContent("Update");this.C.setVisible(!0);(new Vj(this.D.Ob(),0)).od(this.C.qb(),0);WJd(this,a)};
p.PO=function(){C(this.C);this.C=null};p.XHb=function(){var a=this.C,b=a.getName().toUpperCase(),c=a.eb();if(this.D.C.has(b))zU(a.H,!0,"There is already a parameter with this name");else if(a=BJd(a),b=XJd(this,b,c,a))PJd(this.D,b),this.PO(),this.dispatchEvent(new YJd("Te",b))};
function WJd(a,b){var c=b.getName();b=a.C;a.H.R(b,"Le",function(){var b=a.C,e=b.getName().toUpperCase(),f=b.eb();if(e==c||!a.D.C.has(e))if(b=BJd(b),e=XJd(a,e,f,b)){f=a.D;QJd(e);b=e.getName();if(!f.C.get(c))throw new UJd;if(b.toUpperCase()!=c.toUpperCase()&&f.C.get(b))throw new RJd;var h=f.C.get(c);h.Hc(e);b!=c&&(delete f.C.Fb["P_"+c.toUpperCase()],f.C.set(b,h));a.PO();a.dispatchEvent(new YJd("Ve",e))}}).R(b,"Ne",a.PO).R(b,"Me",a.rRa)}
p.KEb=function(a){a=a.C;var b=a.getName();this.D.C.has(b);var c=this.D,d=c.C.get(b);if(!d)throw new UJd;c.F.removeChild(d,c.Sb());delete c.C.Fb["P_"+b.toUpperCase()];C(d);this.dispatchEvent(new YJd("Ue",a))};
function XJd(a,b,c,d){d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(b=a.C,a=c.getErrorMessage(),null==a?zU(b.F,!1):zU(b.F,!0,a),b=null):c.getNamedRangeWorkbookRangeId()?(a=c.getNamedRangeWorkbookRangeId(),c=new K1,c.Ke(b),W(c,3,a),b=c):c.getGridRange()?(c=mP(c.getGridRange()),a=new L1,d=c.Ib(),W(a,1,d),d=c.yc(),W(a,2,d),c=c.xc(),W(a,3,c),c=new K1,c.Ke(b),W(c,4,a),b=c):b=void 0):(a=new K1,a.Ke(b),W(a,2,c),b=a);return b}
p.rRa=function(){var a=this;PR(this.V,null,new ZJd(this.C),this.C.eb(),!0,!1,!0,function(b){a.O.setVisible(!1);a.C.setVisible(!1);a.F=b;a.J.Sc(b,"hide",a.gLb)})};p.gLb=function(){this.isDisposed()||(this.F=null,this.O.setVisible(!0),this.C.setVisible(!0))};function ZJd(a){this.C=a}ZJd.prototype.ob=function(a){this.C.ob(a);AJd(this.C,!0)};function YJd(a,b,c){D.call(this,a,c);this.C=b}q(YJd,D);function $Jd(){return P('<div class="'+Q("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-a11y-table")+'" tabIndex="0"></div><div class="'+Q("waffle-dataconnector-querypreviewrenderer-preview-overlay")+'"></div></div></div>')};function w2(a,b){M.call(this,b);this.J=a;this.D=this.qa().Ma("CANVAS");SJ(this.D);this.F=RJ(this.D);this.L=ritz_api.DbxApi.createGridViewModel(101,24);this.C=ritz_api.DbxApi.createGridView(this.L,this.F,this.J.D,this.J.C);TJ(this.D,this.F,800,243);aKd(this);this.Rc=new xv;this.H=!0}q(w2,M);w2.prototype.Ma=function(){this.Lb(N($Jd));var a=this.$a("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.D);Kh(a,"native-scrollbar");Kh(a,"native-scrollbar-ltr")};
w2.prototype.Za=function(){M.prototype.Za.call(this);L(this.qb(),this.H)};w2.prototype.Xa=function(){M.prototype.Xa.call(this)};w2.prototype.setVisible=function(a){this.H=a;this.Sb()&&L(this.qb(),this.H)};function bKd(a,b){Oh(a.$a("waffle-dataconnector-querypreviewrenderer-preview-overlay"),"visible",b)}function cKd(a,b,c){a.D.style.width=b;a.D.style.height=c;TJ(a.D,a.F,b,c);pi(a.$a("waffle-dataconnector-querypreviewrenderer-preview-overlay"),new Nd(b,c));aKd(a)}
function aKd(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.D.width,a.D.height)}function dKd(a,b){var c=a.qa().Ma("TR");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.qa().Ma("TH",{scope:"col"},d));return c}function eKd(a,b){var c=a.qa().Ma("TR");b=tv(b,1);b=ha(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.appendChild(a.qa().Ma("TH",{scope:"col"},ritz_api.RitzModelApi.renderFormattedValueProtoAsString(a.Rc.serialize(d))));return c};function fKd(a){M.call(this,a);this.C=null}q(fKd,M);p=fKd.prototype;p.Xa=function(){M.prototype.Xa.call(this);this.C=null};p.Ma=function(){this.Lb(this.qa().Ma("DIV",{tabIndex:0,"class":"waffle-dataconnector-queryeditor-sidebaraccordion"}))};p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this,"open",this.tlb).R(this.qb(),"keyup",this.cKb)};p.Ya=function(a,b){M.prototype.Ya.call(this,a,b)};p.Wf=function(a,b,c){M.prototype.Wf.call(this,a,b,c)};
p.tlb=function(a){a.target instanceof r2&&this.C!=a.target&&(this.C&&this.C.Md(!1),this.C=a.target)};p.cKb=function(a){13==a.keyCode&&a.target==this.qb()&&(a=this.Xc(0))&&a.focus()};function gKd(){A.call(this);this.C=Xz("win")}q(gKd,A);function hKd(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new Cl(a.C.location.href)).resolve(new Cl("dbx/ssoLogin")).toString();var c=Zd();(a=Kp(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}gKd.prototype.Xa=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Xa.call(this)};var iKd=new it(1);function jKd(a,b){var c=V(a,3);return b?V(a,4)?"Query returns: more than "+(iKd.format(c)+(" rows of data. Please revise your query to return no more than "+(iKd.format(1E4)+" rows."))):"Query returns: "+(iKd.format(c)+(" rows of data. Please revise your query to return no more than "+(iKd.format(1E4)+" rows."))):(new kt("{TOTAL_ROWS, plural, =0 {Query returns no results.}=1 {Query returns: 1 row of data.}other {Query returns: # rows of data.}}")).format({TOTAL_ROWS:c})};function x2(a,b,c,d,e,f,h){G1.call(this,"waffle-dataconnector-newqueryeditor",h);this.Wb=a;this.mc=b;this.Gc=c;this.H=new ZR("View results");this.H.Gd("waffle-dataconnector-newqueryeditor-preview-query-button");this.Ya(this.H);this.Aa=new uU("Insert results");this.Aa.Gd("waffle-dataconnector-newqueryeditor-execute-query-button");this.Ya(this.Aa);this.D=new mJd(void 0,this.qa());this.Ya(this.D);this.L=new fKd;this.Ya(this.L);this.rb=new MJd(this.qa());this.L.Ya(this.rb,!0);this.Qb=new VJd(this.rb,
this,e,this.H_());this.xa(this.Qb);this.ib=d;this.Ya(this.ib);this.F=new tJd(this.qa());this.Ya(this.F);this.J=new bJd("horizontal",this.qa());this.xa(this.J);this.Kb=this.Ra=!1;this.Cb=null;this.Nb=f||new gKd;this.xa(this.Nb);this.ma=null}q(x2,G1);
function kKd(a,b){a.D.mb(!1);b.then(function(b){if(b){for(var c=tv(b,3),e=a.rb,f=ha(e.C.xd()),h=f.next();!h.done;h=f.next())h=h.value,e.F.removeChild(h,e.Sb()),C(h);e.C.clear();c=ha(c);for(f=c.next();!f.done;f=c.next())PJd(e,f.value)}a.Y8(b);a.C9()},function(){a.Y8(null);a.C9()})}function lKd(a){var b=a.jja(),c;if(c=b){a=ha(OJd(a.rb));for(c=a.next();!c.done;c=a.next())rv(b,3,c.value);c=b}return c}p=x2.prototype;p.CNa=function(){this.Ra=!0;u2(this.F);mKd(this,od("Executing query"));y2(this)};
p.yNa=function(a,b){this.Ra=!1;this.Cb=b;this.Kb=nKd(a);oKd(this,a);b=this.ib;a=V(a,2);var c=b.Rc.serialize(a);ritz_api.DbxApi.setQueryResult(b.C,c);c=ritz_api.DbxApi.getWidth(b.C);var d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");cKd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",
0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);bKd(b,!1);c=b.qa().Ma("TABLE");d=b.qa().Ma("THEAD",void 0,dKd(b,tv(a,1)));e=b.qa().Ma("TBODY");a=tv(a,2);a=ha(a);for(f=a.next();!f.done;f=a.next())e.appendChild(eKd(b,f.value));c.appendChild(d);c.appendChild(e);a=b.Hb("waffle-dataconnector-querypreviewrenderer-a11y-table");b.qa().Dd(a);c&&b.qa().appendChild(a,c);pKd(this);y2(this)};function pKd(a){var b=Math.min(vi(a.ib.D).height+16,240);qKd(a,b)}
p.xNa=function(a){a=a.Hj();mKd(this,od("Executing query"),V(a,5))};p.wNa=function(a){this.Ra=!1;u2(this.F);rKd(this,a);y2(this)};function rKd(a,b){b=b.Hj();10==V(b,2)?sKd(a):(b=dJd(a.H_(),b),uJd(a.F,b))}p.Coa=function(){this.Ra=!0;u2(this.F);mKd(this,od("Updating workbook"));y2(this)};p.Aoa=function(a){this.Ra=!1;u2(this.F);rKd(this,a);y2(this)};p.Ma=function(){G1.prototype.Ma.call(this);hr(this.Ob(),vJd);var a=WGd(this);hr(a,wJd);this.L.render(this.$a("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Za=function(){var a=this;G1.prototype.Za.call(this);this.D.render(this.$a("waffle-dataconnector-newqueryeditor-editor-pane"));this.Aa.render(this.$a("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.H.render(this.$a("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.F.render(this.$a("waffle-dataconnector-newqueryeditor-message-wrapper"));this.ib.render(this.$a("waffle-dataconnector-newqueryeditor-preview-pane"));this.J.yb(this.$a("waffle-dataconnector-newqueryeditor-preview-resize-bar"));
this.getHandler().R(this.J,["Ge","He"],this.Kxb).R(this.H,"action",this.nOb).R(this.Aa,"action",this.Jcb).R(this.Qb,["Te","Ue","Ve"],this.tMb).R(this.D,"Ke",this.C9).R(this.J,"key",this.Jxb);Wi(function(){if(!a.isDisposed()){var b=a.ib;ritz_api.DbxApi.renderBlankPreview(b.C);var c=ritz_api.DbxApi.getWidth(b.C),d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");cKd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,
0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);bKd(b,!1)}});qKd(this,0);y2(this)};p.Xa=function(){G1.prototype.Xa.call(this);C(this.ma);this.ma=null};p.C9=function(){y2(this)};p.setVisible=function(a){G1.prototype.setVisible.call(this,a);a&&tKd(this)};function tKd(a){a.L.mf(function(a){a.refresh()})}
function qKd(a,b){var c=void 0===c?!0:c;C(a.ma);a.ma=null;c?(c=uKd(a),a.ma=new vKd(c,b,200,a),a.xa(a.ma),a.ma.play()):wKd(a,b)}function uKd(a){return a.Sb()?vi(a.$a("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}
function wKd(a,b){var c=a.$a("waffle-dataconnector-newqueryeditor-main");b=vi(c).height-a.J.Zc()-b;a=a.J;uq(a.Qc,cJd(a));a.C="vertical"==a.D?NCa(a.Qc,b):OCa(a.Qc,b);c=ha("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;OC(a.qb(),b,c,a.we());a.dispatchEvent("Ge")}p.tMb=function(a){if("Te"==a.type){a=a.C.getName().toUpperCase();a=2==this.H_()?"${"+a+"}":"@"+a;var b=qJd(this.D);gba(b,a)||(/[^\s"']$/.test(b)&&(a=" "+a),rJd(this.D,b+a))}y2(this)};
function y2(a){var b=lKd(a);a.Ra||null==b?(a.Aa.mb(!1),a.H.mb(!1)):(a.H.mb(!0),a.Aa.mb(!0),b=a.Cb&&a.Cb.equals(b),bKd(a.ib,!b),b?(a.H.setContent(N(UHd)),xk(a.H,"Refresh results")):(a.H.setContent("View results"),xk(a.H,"View results")))}p.nOb=function(){VA.dc(xKd(this))};p.Jcb=function(){var a=lKd(this);this.mc.dc(this.Gc(a))};function xKd(a){var b=new T1;W(b,1,a.Wb);a=lKd(a);W(b,2,a);W(b,3,30);return b}
function oKd(a,b){var c=0;a.F.C.D||(mKd(a,od("Executing query"),100),c=1500);Wi(function(){if(!a.isDisposed()){u2(a.F);var c=od(jKd(b,a.Kb));if(nKd(b))uJd(a.F,c);else{var e=a.F,f=e.$a("waffle-dataconnector-dialog-info-message");u2(e);wd(f,c||od(""));L(f,!!c)}}},c)}function mKd(a,b,c){a=a.F;wd(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&yId(a.C,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}
function sKd(a){var b="waffle-dataconnector-ssologin-"+ac(),c=jJd(b);uJd(a.F,c);(b=Td(b))&&a.getHandler().R(b,"click",function(){return yKd(a)})}p.Kxb=function(){var a=this.$a("waffle-dataconnector-newqueryeditor-editor-pane");ui(a,this.J.C);var b=this.$a("waffle-dataconnector-newqueryeditor-main");a=this.$a("waffle-dataconnector-newqueryeditor-preview-pane");b=vi(b).height-this.J.C-this.J.Zc();ui(a,b)};p.Jxb=function(a){13==a.keyCode&&(0==uKd(this)?pKd(this):qKd(this,0));a.stopPropagation()};
function yKd(a){hKd(a.Nb,function(){VA.dc(xKd(a))})}function vKd(a,b,c,d){Us.call(this,[a],[b],c);this.F=d}q(vKd,Us);vKd.prototype.N_=function(){wKd(this.F,this.coords[0])};vKd.prototype.wS=function(){wKd(this.F,this.xP[0])};function nKd(a){return 1E4<V(a,3)||!!V(a,4)};function zKd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-pill")+'"><div class="'+Q("waffle-dataconnector-pill-timestamp")+'"></div><div class="'+Q("waffle-dataconnector-pill-progress")+'"><div class="'+Q("waffle-dataconnector-pill-spinner")+'"></div><span class="'+Q("waffle-dataconnector-pill-progress-message")+'">';a=a+"Running query..."+(' </span><span class="'+Q("waffle-dataconnector-pill-progress-timer")+'"></span></div><div class="'+Q("waffle-dataconnector-pill-error")+'">'+O(VHd(null,
b)));a=a+"Execution error"+('</div><div class="'+Q("waffle-dataconnector-pill-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-pill-refresh-button-wrapper")+'"></div></div>');return P(a)};function AKd(a,b,c,d,e){M.call(this,e);this.J=a;this.$=b;this.V=c;this.L=d;this.O=new BKd;this.C=new Vi(100);this.xa(this.C);this.H=new qj;this.xa(this.H);this.D=new YR;this.Ya(this.D);this.D.Gd("waffle-dataconnector-pill-editquery-button");wj(this.H,this.D,q7a,yj);this.F=new YR;this.F.Gd("waffle-dataconnector-pill-refresh-button");this.Ya(this.F);wj(this.H,this.F,w7a,yj)}q(AKd,M);AKd.prototype.Ma=function(){this.Lb(N(zKd))};
AKd.prototype.Za=function(){M.prototype.Za.call(this);this.D.render(this.$a("waffle-dataconnector-pill-editquery-button-wrapper"));this.F.render(this.$a("waffle-dataconnector-pill-refresh-button-wrapper"));this.refresh();this.od()};AKd.prototype.od=function(){this.V.od(this.qb(),1,new Uh(0,0,12,23))};
AKd.prototype.refresh=function(){var a=XId(this.L,this.J);if(a){var b=r7a.isEnabled(),c=a.getState();switch(c){case 4:case 1:L(this.$a("waffle-dataconnector-pill-timestamp"),!1);L(this.$a("waffle-dataconnector-pill-progress"),!0);L(this.$a("waffle-dataconnector-pill-error"),!1);mv(a,7)&&CKd(this,V(a,7));this.D.setVisible(!1);this.F.setVisible(!1);break;case 2:L(this.$a("waffle-dataconnector-pill-timestamp"),!0);L(this.$a("waffle-dataconnector-pill-progress"),!1);L(this.$a("waffle-dataconnector-pill-error"),
!1);this.C.stop();this.C.RC();DKd(this);this.D.setVisible(!1);this.F.setVisible(b);break;case 3:L(this.$a("waffle-dataconnector-pill-timestamp"),!1);L(this.$a("waffle-dataconnector-pill-progress"),!1);L(this.$a("waffle-dataconnector-pill-error"),!0);this.C.stop();this.C.RC();this.D.setVisible(b);this.F.setVisible(!1);b||(L(this.$a("waffle-dataconnector-pill-timestamp"),!0),L(this.$a("waffle-dataconnector-pill-error"),!1),DKd(this));break;default:Gkc("Unrecognized execution state: "+c)}}};
function DKd(a){var b=ritz_api.DbxApi.getLastExecutionTimeForSheet(a.$.toString());0>=b||(b="Updated at "+a.O.format(b),a=a.$a("waffle-dataconnector-pill-timestamp"),we(a,b))}function CKd(a,b){if(!a.C.enabled){var c=(Fa()-b)/1E3,d=a.$a("waffle-dataconnector-pill-progress-timer");we(d,c.toFixed(1)+"s");a.C.R("tick",function(){c+=.1;we(d,c.toFixed(1)+"s")});a.C.start()}}function BKd(){this.C=new ct(1);this.D=new ct(ft.MONTH_DAY_MEDIUM);this.F=new ct(7)}
BKd.prototype.format=function(a){a=new Date(a);var b=new Date,c;0<b.getFullYear()-a.getFullYear()?c=this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?c="Today":c=this.D.format(a);a=this.F.format(a);return c+(", "+a)};function EKd(a,b,c,d,e){A.call(this);this.D=a;this.F=b;this.J=c;this.L=d;this.H=e;this.cb=new Rh(this);this.xa(this.cb);this.C=null;this.cb.R(this.J,"T",this.VJb).R(this.D,"qb",this.WJb).R(this.D,"rb",this.XJb).R(this.L,"db-execution-status-updated",this.UJb)}q(EKd,A);p=EKd.prototype;p.Xa=function(){A.prototype.Xa.call(this);C(this.C)};p.refresh=function(){FKd(this)};p.VJb=function(){this.C&&this.C.od()};p.WJb=function(){FKd(this)};p.XJb=function(){C(this.C);this.C=null};
function FKd(a){var b=a.D.C.C;if(b&&null!=b.F)if(a.C)a.C.refresh();else if(b=rE(a.F)){b=new Vj(b.Wa.J,1);var c=a.D.C.C,d=V(c.F,1);c=c.Ib();a.C=new AKd(d,c,b,a.H);a.C.render()}}p.UJb=function(a){a.D&&0!=a.D.length&&this.C&&cb(a.D,this.C.J)&&this.C.refresh()};function GKd(a,b,c,d){A.call(this);this.$=a;this.ma=b;this.Aa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.V=new HKd;this.F=this.H=null}q(GKd,A);p=GKd.prototype;p.getId=function(){return Ba(this)};p.Xa=function(){this.stop();A.prototype.Xa.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.fBa(this.$)};p.stop=function(){2==this.C&&(this.C=3,this.V.stop())};function IKd(a,b){a.L=b;return a}function JKd(a,b){a.J=b;return a}function KKd(a,b){a.O=b;return a}
p.fBa=function(a){var b=this;this.ma.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.Aa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.V;c=v(b.fBa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=Wi(c,e);a=!0}a||LKd(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&LKd(b,a)})};function LKd(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.dK=g("F");function HKd(){this.D=this.F=0;this.C=null}HKd.prototype.stop=function(){this.D=this.F=0;Zi(this.C);this.C=null};function MKd(a){this.C=a}function NKd(a,b){var c=V(b,2);return new GKd(b,function(b){return fId(a.C,b)},function(a){if(1==a.Hj().getState()){var b=new T1;W(b,2,c);b.setToken(a.Hj().getToken());return b}return null})};function OKd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-content")+'"><div class="'+Q("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function PKd(a,b,c,d,e,f,h,k){p2.call(this,f,h);var l=this;zq(this,"Query Editor");BId(this);this.Gc=a;this.C=b;this.Ya(this.C);this.Ra=c;this.Yc=d;this.Jb=e;this.J=this.qa().Ma("CANVAS");SJ(this.J);this.Aa=RJ(this.J);this.Cb=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.Cb,this.Aa,this.Jb.D,this.Jb.C);TJ(this.J,this.Aa,800,243);QKd(this);zId(this,this.Ra,function(){return l.Yc(RKd(l.C))});AId(this);this.Rc=new xv;this.O=null;this.ib=!1;this.Gb=k||new gKd;
this.xa(this.Gb);this.ma=!1;this.mc=new SKd(this);this.xa(this.mc)}q(PKd,p2);p=PKd.prototype;p.Ma=function(){p2.prototype.Ma.call(this);hr(this.Ob(),OKd)};
p.Za=function(){var a=this;p2.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-queryeditor-editor-pane"));wj(this.ub,this.C.L,VA,yj,function(){return TKd(a)});this.getHandler().R(this.C,"We",this.Nra);var b=this.$a("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);Kh(b,"native-scrollbar");Kh(b,"native-scrollbar-ltr");UKd(this,!1);q2(this);this.Nra();VKd(this.C,"Only users with edit access can view and edit the query")};
p.Xa=function(){p2.prototype.Xa.call(this);delete this.Cb;delete this.F};p.CNa=function(){this.ma=!0;L(this.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);q2(this);EId(this,"Executing query");WKd(this)};
p.yNa=function(a,b){this.ma=!1;this.O=b;this.ib=XKd(a);YKd(this,a);a=V(a,2);a=this.Rc.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;TJ(this.J,this.Aa,e,f);QKd(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);ZKd(this,!1);WKd(this);VKd(this.C,"All users with view access can view query results in the workbook.");UKd(this,!0)};function YKd(a,b){var c=0;a.L.D||(EId(a,"Executing query",100),c=1500);Wi(function(){if(!a.isDisposed()){q2(a);$Kd(a);var c=od(jKd(b,a.ib));XKd(b)?CId(a,c):DId(a,c)}},c)}
p.xNa=function(a){a=a.Hj();EId(this,"Executing query",V(a,5))};p.wNa=function(a){this.ma=!1;q2(this);aLd(this,a);this.Nra()};function bLd(a){var b="waffle-dataconnector-ssologin-"+ac(),c=jJd(b);CId(a,c);(b=Td(b))&&a.getHandler().R(b,"click",function(){return cLd(a)})}function cLd(a){hKd(a.Gb,function(){VA.dc(TKd(a))})}
function $Kd(a){var b=RKd(a.C);if(b&&a.O&&!b.equals(a.O)){b=new Ip;var c="This preview is out of date."+(b.Ce("br")+"Please re-run your query.");b=b.format(c);ZKd(a,!0);wd(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),b);L(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else ZKd(a,!1)}p.Nra=function(){$Kd(this);WKd(this)};
function WKd(a){var b=RKd(a.C);if(a.ma||null==b)a.Ra.mb(!1),VA.mb(!1);else{VA.mb(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.ib;a.Ra.mb(!c||b&&!d)}}function ZKd(a,b){Oh(a.$a("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Coa=function(){this.ma=!0;q2(this);EId(this,"Updating workbook");WKd(this)};p.Aoa=function(a){this.ma=!1;q2(this);aLd(this,a);WKd(this)};function aLd(a,b){b=b.Hj();10==V(b,2)?bLd(a):CId(a,dJd(2,b))}
function TKd(a){var b=new T1;W(b,1,a.Gc);a=RKd(a.C);W(b,2,a);W(b,3,30);return b}function QKd(a){a.Aa.fillStyle="#f3f3f3";a.Aa.fillRect(0,0,a.J.width,a.J.height)}function UKd(a,b){b!=yi(a.$a("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.mc.play():L(a.$a("waffle-dataconnector-queryeditor-preview-pane"),!1))}function XKd(a){return 1E4<V(a,3)||!!V(a,4)}function dLd(a){M.apply(this,arguments)}q(dLd,M);
function VKd(a,b){var c=I(H(),"docs-idu");c&&(b+=" ");var d=a.$a("waffle-dataconnector-queryeditor-sharing-message");je(d);b=a.qa().Ma("SPAN",void 0,b);d.appendChild(b);c&&(a=a.qa().Ma("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Learn more"),d.appendChild(a))}function SKd(a){Us.call(this,[0],[1],350);this.F=a}q(SKd,Us);SKd.prototype.xS=function(){var a=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");L(a,!0);ui(a,0)};
SKd.prototype.N_=function(){var a=this.fk,b=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");ui(b,243*a);this.F.od()};function eLd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section-header")+'">';return P(a+"Billing project</div></div></div>")};function fLd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-queryeditor-query-settings-header")+'">'+O(qs({icon:pr("docs-icon-img docs-icon-settings")},b))+'<span class="'+Q("waffle-dataconnector-queryeditor-query-settings-title")+'">';return P(a+"Query Settings</span></div>")};function gLd(a,b){r2.call(this,N(fLd),b);this.F=a.C;this.H=a.D;this.C=new NT;xk(this.C,"Billing project");this.Ya(this.C)}q(gLd,r2);function hLd(a){a=a.C.Te();return null==a?null:a.eb()}
gLd.prototype.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(eLd));var a=this.$a("waffle-dataconnector-bigquery-query-settings-widget-project-section");this.C.render(a);if(0==this.F.length){var b=this.qa();b.appendChild(a,b.Ma("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert",N(VHd),"No billing projects"));b.appendChild(a,b.Ma("DIV","waffle-dataconnector-bigquery-query-settings-widget-alert-description","Configure a project in the Google Cloud Platform console to continue"))}};
gLd.prototype.Za=function(){var a=this;r2.prototype.Za.call(this);this.getHandler().R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Xe")});iLd(this,this.F,this.H);this.Md(!0);this.C.hp();this.Md(!1)};function iLd(a,b,c){if(0==b.length)a.C.mb(!1),a.C.setVisible(!1);else{for(var d=null,e=0;e<b.length;e++){var f=b[e];a.C.Ad(new Kk(f.getName(),f));null!=c&&f.getId()==c&&(d=e)}null!==d?a.C.Ve(d):Nr(a.C,null)}};function jLd(a){this.Dc=a}jLd.prototype.getType=g("Dc");function kLd(a){this.Dc="cloud-project";this.C=a}q(kLd,jLd);kLd.prototype.wn=g("C");function lLd(a,b){this.Dc="bigquery-dataset";this.C=b;this.D=a}q(lLd,jLd);lLd.prototype.wn=g("C");function mLd(a,b,c){this.Dc="bigquery-table";this.C=c;this.D=b;this.F=a}q(mLd,jLd);mLd.prototype.wn=g("C");function nLd(a){this.Dc="jdbc-table";this.C=a}q(nLd,jLd);function oLd(){this.Dc="column"}q(oLd,jLd);function z2(a,b,c,d){c=void 0===c?!1:c;M.call(this,d);this.Hc(b);this.nextSibling=this.previousSibling=this.parentNode=null;this.F=(this.D=c)?2:0;this.H=this.C=!1;this.wC=new pLd(a,this.qa());this.xa(this.wC);this.D&&this.wC.Gd("waffle-dataconnector-dbschematreenode-control-leaf")}q(z2,M);p=z2.prototype;
p.Ma=function(){Xja(this.qa());var a=this.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-child-container");Ch(a,"group");a=this.qa().Ma("DIV",{"class":"waffle-dataconnector-dbschematreenode",id:this.getId()},this.qa().Ma("DIV","control-container"),a);Ch(a,"treeitem");this.Lb(a);this.wC.render(this.$a("control-container"))};p.Ob=function(){return this.Hb("waffle-dataconnector-dbschematreenode-child-container")};
p.Za=function(){M.prototype.Za.call(this);qLd(this,!1);this.getHandler().R(this.wC,"action",this.ymb)};p.getTitle=function(){return this.wC.getContent()};p.ymb=function(){this.Md(!this.C);this.wc(!0)};p.Md=function(a){if(!this.D&&a!=this.C){var b=Hi(64,a);this.dispatchEvent(b)&&qLd(this,a)}};function rLd(a){var b=a.ad();if(!a.C||0==b)return a;a=a.Xc(b-1);return rLd(a)}
function sLd(a,b){b=void 0===b?!1:b;var c=a.Xc(0);return!b&&a.C&&c?c:a.nextSibling?a.nextSibling:a.parentNode?sLd(a.parentNode,!0):null}function qLd(a,b){a.C=b;a.Sb()&&(L(a.Ob(),b),a.wC.Md(b))}p.wc=function(a){if(a!=this.H){var b=Hi(8,a);this.dispatchEvent(b)&&(this.H=a,this.wC.wc(a))}};function tLd(a,b){a.F=b;b=a.wC;a=1==a.F;b.$j("waffle-dataconnector-dbschematreenode-control-loading",a);PT(b.C,a)}p.ev=g("F");p.Hc=function(a){M.prototype.Hc.call(this,a)};p.tb=function(){return M.prototype.tb.call(this)};
p.qd=function(a){return M.prototype.qd.call(this,a)};p.Xc=function(a){return M.prototype.Xc.call(this,a)};p.Ya=function(a,b){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Ya.call(this,a,b)};function uLd(a){a.parentNode=null;var b=a.previousSibling,c=a.nextSibling;a.previousSibling=null;a.nextSibling=null;b&&(b.nextSibling=c);c&&(c.previousSibling=b)}
p.Wf=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");var d=this.Xc(b-1),e=this.Xc(b);a.parentNode=this;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Wf.call(this,a,b,c)};p.removeChild=function(a,b){uLd(a);return M.prototype.removeChild.call(this,a,b)};p.Dd=function(){return M.prototype.Dd.call(this,!0)};p.Kn=function(a){return M.prototype.Kn.call(this,a,!0)};
function pLd(a,b){rk.call(this,a,vLd.getInstance(),b);this.We(32,!1);this.We(64,!0);this.We(8,!0);rj(this,64,!1);this.C=new OT}q(pLd,rk);pLd.prototype.Za=function(){rk.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-dbschematreenode-control-icon"))};function vLd(){}q(vLd,Oi);
vLd.prototype.Ma=function(a){var b=a.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-control-label",a.getContent()),c=a.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-control-icon");c=a.qa().Ma("DIV",{"class":this.Sm(a).join(" "),id:a.getId()},c,b);a=a.getContent();pj(b,a,void 0);return c};vLd.prototype.Ob=function(a){return Xd("waffle-dataconnector-dbschematreenode-control-label",a)};vLd.prototype.hc=n("waffle-dataconnector-dbschematreenode-control");ta(vLd);function wLd(a){M.call(this,a);this.C=new xLd(this.qa());this.Ya(this.C,!0);this.D=null;this.getHandler().R(this.C,"open",this.tvb).R(this.C,"select",this.uvb)}q(wLd,M);p=wLd.prototype;p.Ma=function(){this.Lb(this.qa().Ma("DIV","waffle-dataconnector-schema-menu"))};p.Za=function(){M.prototype.Za.call(this);this.getHandler().R(this.C.qb(),"keydown",this.Ksb).R(this.C.qb(),"focus",this.CDb)};p.tvb=function(a){var b=a.target;2!=b.ev()&&a.preventDefault();0==b.ev()&&yLd(this,b).then(function(a){a.Md(!0)})};
p.uvb=function(a){a=a.target;this.D&&this.D.wc(!1);this.D=a;Fh(this.C.qb(),a.wC.qb())};function yLd(a,b){a=a.H(b).then(function(a){return zLd(b,a)},function(){return tLd(b,0)});tLd(b,1);return a}function ALd(a){var b=[];a.C.mf(function(a){b.push(a)});return b}function zLd(a,b){if(a.isDisposed())return Db(b),uf();b.forEach(function(b){a.Ya(b,!0)});tLd(a,2);return tf(a)}
p.Ksb=function(a){switch(a.keyCode){case 36:BLd(this);break;case 35:(a=this.C.Xc(this.C.ad()-1))&&rLd(a).wc(!0);break;case 13:a=this.D;a.Md(!a.C);break;case 37:a=this.D;a.C?a.Md(!1):(a=a.parentNode)&&a.wc(!0);break;case 39:CLd(this);break;case 38:a=this.D;(a=a.previousSibling?rLd(a.previousSibling):a.parentNode)&&a.wc(!0);break;case 40:(a=sLd(this.D))&&a.wc(!0)}};function BLd(a){(a=a.C.Xc(0))&&a.wc(!0)}
function CLd(a){function b(a){a.Md(!0);(a=a.Xc(0))&&a.wc(!0)}var c=a.D;switch(c.ev()){case 2:b(c);break;case 0:yLd(a,c).then(function(a){b(a)})}}p.CDb=function(){this.D||BLd(this)};function xLd(a){M.apply(this,arguments)}q(xLd,M);p=xLd.prototype;p.Ma=function(){var a=this.qa().Ma("DIV",{"class":"waffle-dataconnector-schema-menu-tree-container",tabIndex:0});Ch(a,"tree");this.Lb(a)};p.qd=function(a){return M.prototype.qd.call(this,a)};p.Xc=function(a){return M.prototype.Xc.call(this,a)};
p.Wf=function(a,b,c){var d=this.Xc(b-1),e=this.Xc(b);a.parentNode=null;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);M.prototype.Wf.call(this,a,b,c)};p.removeChild=function(a,b){uLd(a);return M.prototype.removeChild.call(this,a,b)};function DLd(a,b){wLd.call(this,b);this.F=a}q(DLd,wLd);function ELd(a,b){var c=!0;c=void 0===c?!1:c;var d=b.getId();a:{var e=ALd(a);e=ha(e);for(var f=e.next();!f.done;f=e.next())if(f.value.tb().wn()==d){e=!0;break a}e=!1}e||(b=b.getName(),d=new z2(b,new kLd(d)),a.C.Ya(d,!0),c&&d.Md(!0))}DLd.prototype.H=function(a){a=a.tb();switch(a.getType()){case "cloud-project":return FLd(this,a);case "bigquery-dataset":return GLd(this,a);case "bigquery-table":return HLd(this,a);default:return a.getType(),uf()}};
function FLd(a,b){var c=b.wn();return rId(a.F,c).then(function(a){return ILd(a,c)})}function GLd(a,b){var c=b.D,d=b.wn();return pId(a.F,d,c).then(function(a){return JLd(a,d,c)})}function HLd(a,b){var c=new $1;c.Ke(b.F);W(c,2,b.D);wHd(c,b.wn());return qId(a.F,c).then(function(a){return KLd(a)})}function ILd(a,b){return a.map(function(a){return new z2(a,new lLd(a,b))})}function JLd(a,b,c){return a.map(function(a){a=a.getName();return new z2(a,new mLd(a,c,b))})}
function KLd(a){return a.map(function(a){return new z2(a,new oLd(a),!0)})};function LLd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-schemamenuwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>');
return b(c+O(d)+"<div>"+O(a.title)+"</div></div>")};function MLd(a,b){r2.call(this,N(LLd,{title:"Schema"}),b);this.C=a;this.Ya(this.C,!0)}q(MLd,r2);function NLd(a,b,c,d,e,f,h,k,l){x2.call(this,b,c,d,e,f,k,l);XGd(this,this.qa().Ma("SPAN",void 0,N(XHd),"BigQuery query editor"));this.O=new gLd(a,this.qa());this.L.Wf(this.O,0,!0);this.zb=new DLd(h,this.qa());this.Jb=new MLd(this.zb);this.L.Ya(this.Jb,!0)}q(NLd,x2);p=NLd.prototype;p.Za=function(){x2.prototype.Za.call(this);this.getHandler().R(this.O,"Xe",this.Xxb);this.Jb.Md(!0);var a=hLd(this.O);a&&ELd(this.zb,a)};
p.jja=function(){var a=qJd(this.D),b=hLd(this.O);if(!a||!b)return null;b=new J1;var c=hLd(this.O).getId();W(b,1,a);W(b,2,c);a=new M1;W(a,4,b);return a};p.Y8=function(a){if(a){var b=V(a,4);rJd(this.D,V(b,1));a:{a=this.O;b=b.wn();for(var c=a.C.Yh(),d=0;d<c;d++)if(a.C.Ze(d).eb().getId()==b){a.C.Ve(d);break a}}}else rJd(this.D,"");this.D.mb(!0)};p.H_=n(3);p.Xxb=function(){var a=hLd(this.O);a&&ELd(this.zb,a)};function OLd(a){var b='<div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Connection name:"+('</div><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+O(a.QO)+"</div></div></div>");return P(b)};function PLd(a,b){r2.call(this,N(fLd),b);this.C=a}q(PLd,r2);PLd.prototype.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(OLd,{QO:this.C}))};function QLd(a,b){this.C=a;this.D=b}function RLd(a){var b=new Y1;W(b,1,a.C);return jId(a.D,b,1).then(function(a){return tv(a,4)})}function SLd(a,b){var c=new d2;W(c,1,a.C);W(c,2,b);return kId(a.D,c,1).then(function(a){return tv(a,4)})};function TLd(a,b){wLd.call(this,b);this.F=a}q(TLd,wLd);function ULd(a){RLd(a.F).then(function(b){b.forEach(function(b){b=b.getName();b=new z2(b,new nLd(b));a.C.Ya(b,!0)})},ba())}TLd.prototype.H=function(a){a=a.tb();switch(a.getType()){case "jdbc-table":return VLd(this,a);default:return a.getType(),uf()}};function VLd(a,b){var c=new $1;c.Ke(b.C);return SLd(a.F,c).then(function(a){return WLd(a)})}function WLd(a){return a.map(function(a){return new z2(a,new oLd(a),!0)})};function A2(a,b,c,d,e,f,h,k,l){x2.call(this,a,c,d,e,f,k,l);XGd(this,"Jdbc query editor");this.Jb=new PLd(b);this.L.Wf(this.Jb,0,!0);this.O=new TLd(h,this.qa());ULd(this.O);this.zb=new MLd(this.O,this.qa());this.L.Ya(this.zb,!0)}q(A2,x2);A2.prototype.Za=function(){x2.prototype.Za.call(this);this.zb.Md(!0)};A2.prototype.jja=function(){var a=qJd(this.D);if(!a)return null;var b=new M1;W(b,1,a);return b};A2.prototype.Y8=function(a){a=a?V(a,1):"";rJd(this.D,a);this.D.mb(!0)};A2.prototype.H_=n(1);function XLd(){var a='<div class="'+Q("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"External script"+('</div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return P(a)};function YLd(a){r2.call(this,N(fLd),a);this.H="";this.F=new v2(this.H);this.Ya(this.F);this.F.C.Qd("Click to open the Plx script editor");this.F.D.Qd("Unlink this Plx script");this.J=new ZR("Add existing script");this.Ya(this.J);this.J.Gd("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new fU;this.C.setContent("Engine");a=ha(qc(ZLd));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.Ad(new Kk(b.caption,b.value));this.C.Ve(0);this.Ya(this.C);this.O=new $n;this.xa(this.O)}
q(YLd,r2);YLd.prototype.Ma=function(){r2.prototype.Ma.call(this);this.setContent(N(XLd));this.C.render(this.$a("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.F.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-section"));this.J.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
YLd.prototype.Za=function(){var a=this;r2.prototype.Za.call(this);this.getHandler().R(this.J,"action",function(b){b.stopPropagation();a.dispatchEvent("Ye")}).R(this.F,"Pe",function(b){b.stopPropagation();a.dispatchEvent("$e")}).R(this.F,"Oe",function(b){b.stopPropagation();Kp(PGd(a.H),{target:"_blank"})}).R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("af")});this.Md(!0);this.C.hp();this.Md(!1);$Ld(this)};
function $Ld(a){var b=!!a.H;b&&a.F.setContent(a.H);a.F.setVisible(b);a.J.setVisible(!b);a.J.mb(!b);a.C.mb(!b)}var aMd=Object.freeze({caption:"Dremel",value:"DREMEL"}),bMd=Object.freeze({caption:"F1",value:"F1"}),cMd=Object.freeze({caption:"Procella",value:"PROCELLA"}),ZLd={LWa:aMd,cXa:bMd,TZa:cMd};function dMd(a,b,c){o2.call(this,b,c);this.F=a?new YGc:new IT;this.Ya(this.F);this.F.Gd("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Gd("waffle-dataconnector-simple-text-input-prompt-add-button")}q(dMd,o2);dMd.prototype.Ma=function(){o2.prototype.Ma.call(this);var a=this.qa().Ma("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");ie(this.Ob(),a);this.F.render(a)};dMd.prototype.ob=function(a){this.F.ob(a)};
dMd.prototype.Za=function(){var a=this;o2.prototype.Za.call(this);this.getHandler().R(this.C,"action",function(){var b=a.F.eb();""!=b&&a.resolve(b)})};function eMd(a,b,c,d,e,f,h){x2.call(this,a,b,c,d,e,f,h);XGd(this,this.qa().Ma("SPAN",void 0,N(YHd),"Plx query editor"));this.O=new YLd(this.qa());this.L.Wf(this.O,0,!0)}q(eMd,x2);p=eMd.prototype;p.Za=function(){x2.prototype.Za.call(this);this.getHandler().R(this.O,"Ye",this.CNb).R(this.O,"$e",this.aKb)};p.jja=function(){var a=qJd(this.D),b=this.O.H;if(!a&&!b)return null;var c=new M1,d=new I1;b?W(d,3,b):(W(d,1,a),a=this.O.C.Te().eb(),W(d,2,a));W(c,2,d);return c};
p.Y8=function(a){this.D.mb(!0);if(a){var b=V(a,2);a=V(b,1);var c=V(b,2);b=V(b,3);if(c)try{a:{for(var d=this.O,e=d.C.Yh(),f=0;f<e;f++)if(d.C.Ze(f).eb()==c){d.C.Ve(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&fMd(this,b);a&&rJd(this.D,a)}else rJd(this.D,"")};p.H_=n(2);
p.CNb=function(){var a=this,b=this.O.H,c=new dMd("Script ID");zq(c,"Add existing script");c.C.setContent("Add");c.ob(b);this.xa(c);c.setVisible(!0);xf(c.getResult(),function(){return C(c)}).then(function(b){return fMd(a,b)},ba())};
function fMd(a,b){if(!a.isDisposed()){var c=a.O;c.H=b||"";$Ld(c);c=a.D;if(b){c.mb(!1);var d=new Ip;var e=d.Ce("a",{href:PGd(b),target:"_blank"});e=e+"Edit your existing script by viewing it in Plx"+d.Je("a");d=d.format(e);wd(c.$a("waffle-dataconnector-textarea-editor-overlay-message"),d);c.mb(!1);oJd(c,!0)}else c.mb(!0),oJd(c,!1);jA(b?"Script added":"Script removed");a.C9()}}p.aKb=function(){fMd(this,null)};function gMd(){}q(gMd,jr);gMd.prototype.Ma=function(a){a=a.qa().Ma("DIV","waffle-dataconnector-close-badge");hr(a,THd);return a};gMd.prototype.hc=n("waffle-dataconnector-close-badge");ta(gMd);function hMd(){kr.call(this,void 0,gMd.getInstance())}q(hMd,kr);function iMd(){return P('<div class="'+Q("waffle-dataconnector-linked-script-chip")+'"><div class="'+Q("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function jMd(a,b){M.call(this,b);this.D=a;this.C=new hMd;xk(this.C,"Remove script");this.Ya(this.C)}q(jMd,M);jMd.prototype.Ma=function(){this.Lb(N(iMd));var a=this.$a("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.qa().Ma("A",{href:PGd(b),target:"_blank"},b);a.appendChild(b)};
jMd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Linked plx script: "+this.D;Hh(this.$a("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().R(this.C,"action",function(){return a.dispatchEvent("bf")})};function kMd(){var a=P,b='<div class="'+Q("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=P('<div class="'+Q("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+Q("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+O(c)+"</div></div>")};function lMd(){var a='<div class="'+Q("waffle-dataconnector-sqleditor")+'"><div class="'+Q("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=tr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return P(a)};function mMd(a,b){a=void 0===a?"":a;M.call(this,b);this.Ud=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new OT;this.Ya(this.H)}q(mMd,M);mMd.prototype.Ma=function(){this.Lb(N(lMd))};
mMd.prototype.Za=function(){var a=this;M.prototype.Za.call(this);this.C=this.$a("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new os(this.C);this.xa(this.F);this.F.Od(this);this.getHandler().R(this.C,"focus",function(){return nMd(a,!0)}).R(this.C,"blur",function(){return nMd(a,!1)});this.H.render(this.$a("waffle-dataconnector-sqleditor-textareawrapper"));oMd(this);pMd(this,!1)};
function oMd(a){a.C.disabled=!a.Ud||a.D;Oh(a.qb(),"waffle-dataconnector-sqleditor-disabled",!a.Ud||a.D);PT(a.H,a.D)}mMd.prototype.mb=function(a){this.D||a==this.Ud||(this.Ud=a,this.Sb()&&oMd(this))};mMd.prototype.isEnabled=g("Ud");function qMd(a){a.D=!0;a.Sb()&&oMd(a)}function pMd(a,b){L(a.$a("waffle-dataconnector-sqleditor-overlay"),b)}function nMd(a,b){Oh(a.qb(),"waffle-dataconnector-sqleditor-focused",b)};function rMd(a,b,c){dLd.call(this,c);var d=this;this.H=this.J=null;this.F=new ZR("Add existing script");this.Ya(this.F);this.D=new fU;this.D.setContent("Engine");sMd(this);this.D.Ve(0);this.Ya(this.D);this.C=new mMd(void 0,this.qa());this.Ya(this.C);this.L=new ZR;this.L.Gd("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Ya(this.L);this.O=new aj(function(){tMd(d,null)});this.xa(this.O);b&&(this.F.mb(!1),qMd(this.C),xf(b.then(function(a){var b=V(a,2),c=V(b,1);a=V(b,3);b=V(b,2);var e=
d.C;c=c||"";e.isDisposed()||(e.D=!1,e.Sb()?(e.C.value=c,oMd(e)):e.J=c);tMd(d,a);b&&d.D.ob(b);d.F.mb(!0)},ba()),function(){d.dispatchEvent("We")}))}q(rMd,dLd);rMd.prototype.Ma=function(){this.Lb(N(kMd))};
rMd.prototype.Za=function(){var a=this;dLd.prototype.Za.call(this);this.C.render(this.$a("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.$a("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.$a("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().R(this.C,"input",function(){a.dispatchEvent("We")}).R(this.F,"action",
function(){return uMd(a)}).R(this,"bf",function(){a.O.start()}).R(this.D,"aftershow",function(a){return a.stopPropagation()})};function RKd(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new M1,d=new I1;a.J?W(d,3,a.J):(W(d,1,b),a=a.D.Te().eb(),W(d,2,a));W(c,2,d);return c}function sMd(a){for(var b=ha(qc(vMd)),c=b.next();!c.done;c=b.next())c=c.value,a.D.Ad(new Kk(c.caption,c.value))}
function uMd(a){var b=new dMd("Script ID");zq(b,"Add existing script");b.C.setContent("Add");a.xa(b);b.setVisible(!0);xf(xf(b.getResult(),function(){return C(b)}).then(function(b){return tMd(a,b)},ba()),function(){(null!=a.J?a.H.qb():a.D.qb()).focus()})}
function tMd(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.mb(!c);a.D.mb(!c);a.F.setVisible(!c);a.F.mb(!c);C(a.H);a.H=null;if(b){a.H=new jMd(b);a.Ya(a.H);a.H.render(a.$a("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new Ip;var d=c.Ce("a",{href:PGd(b),target:"_blank"});d=d+"Edit your existing script by viewing it in Plx"+c.Je("a");c=c.format(d);a.C.mb(!1);d=a.C;wd(d.$a("waffle-dataconnector-sqleditor-overlay-message"),c);pMd(d,!0)}else a.C.mb(!0),pMd(a.C,!1);jA(b?"Script added":
"Script removed");a.dispatchEvent("We")}}var wMd=Object.freeze({caption:"Dremel",value:"DREMEL"}),xMd=Object.freeze({caption:"F1",value:"F1"}),yMd=Object.freeze({caption:"Procella",value:"PROCELLA"}),vMd={LWa:wMd,cXa:xMd,TZa:yMd};function zMd(a,b,c){this.C=a;this.F=b;this.Db=new Rd;this.D=c}function AMd(a,b,c){return new A2(b,c,TA,function(a){return BMd(b,a)},new w2(a.C,a.Db),a.D,new QLd(b,a.F),void 0,a.Db)}function CMd(a,b,c,d,e){a=new A2(b,c,UA,function(a){return DMd(d,a)},new w2(a.C,a.Db),a.D,new QLd(b,a.F),void 0,a.Db);kKd(a,e);return a}
function EMd(a,b){if(I(H(),"fenqeu"))return new eMd(b,TA,function(a){return BMd(b,a)},new w2(a.C,a.Db),a.D,void 0,a.Db);var c=new rMd(b,void 0,a.Db);return new PKd(b,c,TA,function(a){return BMd(b,a)},a.C,void 0,a.Db)}function FMd(a,b,c,d){if(I(H(),"fenqeu"))return a=new eMd(b,UA,function(a){return DMd(c,a)},new w2(a.C,a.Db),a.D,void 0,a.Db),kKd(a,d),a;d=new rMd(b,d,a.Db);return new PKd(b,d,UA,function(a){return DMd(c,a)},a.C,void 0,a.Db)}
function GMd(a,b,c){return new NLd(c,b,TA,function(a){return BMd(b,a)},new w2(a.C,a.Db),a.D,new oId(a.F,b),void 0,a.Db)}function HMd(a,b,c,d,e){a=new NLd(c,b,UA,function(a){return DMd(d,a)},new w2(a.C,a.Db),a.D,new oId(a.F,b),void 0,a.Db);kKd(a,e);return a}function BMd(a,b){var c=new R1;W(c,1,a);W(c,2,b);return c}function DMd(a,b){var c=new a2;W(c,1,a);W(c,2,b);return c};function IMd(a,b,c,d){var e="Error in query on "+c;c=new tId;c.Gd("waffle-dataconnector-error-popup");zq(c,e);c.C.setContent("Open query editor");c.J.setContent("Ok");a=10==V(a,2)?jJd(d):dJd(b,a);Aq(c,a);return c};function JMd(a,b,c,d,e,f,h,k){A.call(this);this.O=new VId;this.xa(this.O);this.bb=a;this.L=a.Kb;this.H=aId.getInstance();this.jb=new MKd(this.H);this.D=b;this.Wa=e;this.$=f;this.V=new zMd(h,this.H,this.$);this.F=null;this.ma=new E;this.xa(this.ma);this.C=null;(this.J=I(H(),"fedcpw")?new EKd(b,c,d,a,this.O):null)&&this.xa(this.J);this.cb=new Rh(this);this.xa(this.cb);this.Aa=new Xe(this);this.xa(this.Aa);this.Ra=new gKd;this.xa(this.Ra);KMd(this,k);this.cb.R(this.ma,["show","hide"],this.Bnb).R(this.D,
"qb",this.oJb).R(this.D,"rb",this.pJb).R(this.D,"Jb",this.OAb).R(this.bb,"db-execution-status-updated",this.nJb);this.Aa.subscribe(o7a,"action",this.xfa).subscribe(VA,"action",this.Ixb).subscribe(TA,"action",this.Gmb).subscribe(w7a,"action",this.Pyb).subscribe(q7a,"action",this.ONa).subscribe(UA,"action",this.Sob).subscribe(v7a,"action",this.Uxb).subscribe(WA,"action",this.qmb).subscribe(u7a,"action",this.Yvb);LMd(this);this.J&&this.J.refresh()}q(JMd,A);
function KMd(a,b){var c=$ic(),d=new nt(ajc.concat(["waffle-dataconnector-connection-selected"])),e=ajc.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);c||e.push("waffle-dataconnector-active-sheet-not-plx");c=new nt(e);b.C(TA,YP).D(TA,YP).C(UA,YP).D(UA,YP).C(v7a,YP).D(v7a,YP).C(o7a,YP).C(w7a,c).C(q7a,c).C(VA,YP).C(WA,d).C(u7a,c);b.C(r7a,c);a.Aa.Tb(r7a,Oa,function(){a.J&&a.J.refresh()})}p=JMd.prototype;p.Ff=function(a){this.H.Ff(a)};
function B2(a,b){C(a.F);a.F=b;a.F.Od(a.ma);b instanceof yq?a.$.Eh(a.F):a.$.Eh(new Rmb(a.F));a.F.render();a.F.setVisible(!0)}p.xfa=function(){C(this.F);this.F=null};p.oJb=function(){LMd(this)};p.pJb=function(){this.C&&(C(this.C),this.C=null,DP())};p.OAb=function(){LMd(this)};
function LMd(a){var b=a.D.C.C;if(b&&null!=b.F)if(null==a.C){b=a.D.C.C;var c=b.F,d=V(c,2);d=bH(a.L,d);var e;2!=V(d,3)||$ic()?e=d.getName():e="Database connection";a.C=new YId(e,b.Ib(),V(c,1),a.O,a.D,a.Wa);a.xa(a.C);a.C.show()}else ZId(a.C)}p.Bnb=function(){this.F&&this.F.isVisible()||(VA.ob(null),WA.ob(null))};
p.BNb=function(){var a=new NId;this.xa(a);B2(this,a);iId(this.H).then(function(b){var c=[];tv(b,1).forEach(function(a){c.push(JId((new IId).vf(a.getId()).Ke(a.getName()).setType(V(a,3))).build())});a.isDisposed()||(PId(a,c),OId(a,!1))})};p.R4a=function(){var a=this,b=MMd("Connecting to Plx...");NMd(this,"Plx",2).then(function(c){c=new FId(c,2);a.xa(c);B2(a,c);Bp(Ap.getInstance(),b)},function(){OMd("Could not connect to Plx");Bp(Ap.getInstance(),b)})};
p.Q4a=function(){var a=this,b=new YGd;this.xa(b);B2(this,b);b.getResult().then(function(c){C(b);c&&PMd(a)},function(){C(b)})};function PMd(a){var b=MMd("Connecting to BigQuery..."),c;NMd(a,"BigQuery",3).then(function(b){c=b;return sId(new oId(a.H,b))}).then(function(d){Bp(Ap.getInstance(),b);QMd(a,c,d)},function(){Bp(Ap.getInstance(),b);OMd("Could not connect to BigQuery")})}
function QMd(a,b,c){c=new QHd(c);var d=new ZHd(c);a.xa(d);B2(a,d);d.getResult().then(function(c){c=GMd(a.V,b,c);a.xa(c);B2(a,c)},function(){C(d)})}function MMd(a){return Ap.getInstance().postMessage(Cp(a,"info",!0))}function OMd(a){Ap.getInstance().postMessage(Cp(a,"error",!0))}function NMd(a,b,c){var d=new N1;d.Ke(b);W(d,2,c);return bId(a.H,d).then(function(a){return V(a,2)})}
function RMd(a,b){var c=MMd("Importing connection..."),d=new O1;d.vf(b);d.setType(1);return eId(a.H,d).then(function(){Bp(Ap.getInstance(),c)},function(){Bp(Ap.getInstance(),c)})}p.Uxb=function(){var a=this.F,b=a.F;switch(a.C){case 2:SMd(this,b);break;case 1:TMd(this,b)}};function TMd(a,b){var c=bH(a.L,b).getName();b=AMd(a.V,b,c);a.xa(b);B2(a,b)}function SMd(a,b){b=EMd(a.V,b);a.xa(b);B2(a,b)}
p.qmb=function(){var a=this,b=WA.eb(),c=b.getId(),d=b.getType();switch(d){case 2:SMd(this,c);break;case 1:bH(this.L,b.getId())?TMd(this,c):RMd(this,c).then(function(){TMd(a,c)},ba());break;default:throw Error("Unsupported connection type: "+d);}};p.Ixb=function(a){var b=this.F;b.CNa();var c=V(a,2);JKd(KKd(IKd(NKd(this.jb,a),function(a){b.isDisposed()||b.yNa(a,c)}),function(a){b.isDisposed()||b.xNa(a)}),function(a){b.isDisposed()||b.wNa(a)}).start()};
p.Gmb=function(a){var b=this,c=this.F;cId(this.H,a).then(function(a){UMd(b,a)},function(a){c.isDisposed()||c.Aoa(a)});c.Coa()};function UMd(a,b){WId(a.O,V(b,2),b.Hj());var c=ec(b.Ib());Number.isNaN(c);a.xfa();vA(a.D.C,c)?tA(a.D.C)==c?(LMd(a),a.J&&a.J.refresh()):xG(a.D,c):a.cb.Sc(a.D,["Bb","qb"],function(b){"Bb"==b.type&&b.uh==c&&xG(a.D,c)})}p.Pyb=function(){VMd(this,kI(this.D.C))};
function VMd(a,b){var c=vA(a.D.C,b).F,d=V(bH(a.L,V(c,2)),3),e=new W1;W(e,1,b.toString());gId(a.H,e,d).then(function(d){var e=V(c,1);d=d.Hj();a.O.C[e]=d;a.C&&!a.C.isDisposed()&&a.C.Ib()==b&&ZId(a.C);a.J&&a.J.refresh()},function(c){c=c.Hj();V(c,2);a.C&&!a.C.isDisposed()&&a.C.Ib()==b&&TId(a.C.C,!1,!0);WMd(a,b,c)});UId(a.C.C)}
function WMd(a,b,c){var d=vA(a.D.C,b),e=d&&d.F;if(e){d=d.Wd();e=XMd(a,e);var f="waffle-dataconnector-ssologin-"+ac(),h=IMd(c,e,d,f);a.xa(h);a.$.Eh(h);h.render();h.setVisible(!0);h.getResult().then(function(){C(h);a.ONa(b)},function(){C(h)});(c=Td(f))&&o2.prototype.getHandler.call(h).R(c,"click",function(){YMd(a,b,h)})}}function YMd(a,b,c){hKd(a.Ra,function(){C(c);VMd(a,b)})}
p.ONa=function(a){if((a=void 0!==a?vA(this.D.C,a):this.D.C.C)&&null!=a.F){var b=a.F;a=V(b,2);b=V(b,1);switch(V(bH(this.L,a),3)){case 2:a=FMd(this.V,a,b,ZMd(this,b));this.xa(a);B2(this,a);break;case 1:var c=bH(this.L,a).getName();a=CMd(this.V,a,c,b,ZMd(this,b));this.xa(a);B2(this,a);break;case 3:$Md(this,a,b)}}};
function $Md(a,b,c){var d=MMd("Connecting to BigQuery...");sId(new oId(a.H,b)).then(function(e){Bp(Ap.getInstance(),d);e=HMd(a.V,b,new QHd(e),c,ZMd(a,c));a.xa(e);B2(a,e)},function(){Bp(Ap.getInstance(),d);OMd("Could not connect to BigQuery")})}function ZMd(a,b){var c=wf(),d=new KHd;W(d,1,b);lId(a.H,d).then(function(a){V(a,1)?c.resolve(V(a,2)):c.reject()},function(a){return c.reject(a)});return c.C}
p.Sob=function(a){var b=this,c=V(a,1),d=this.F;hId(this.H,a).then(function(a){a=a.Hj();b.O.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);xG(b.D,parseInt(a,10));b.xfa();ZId(b.C);b.J&&b.J.refresh()},function(a){d.isDisposed()||d.Aoa(a)});d.Coa()};function XMd(a,b){b=V(b,2);a=a.L.C[b];b=V(a,3);a.getName();return b}p.nJb=function(a){a.D&&0!=a.D.length&&this.C&&cb(a.D,this.C.D)&&ZId(this.C)};
p.Yvb=function(){var a=this,b=this.D.C.C,c=V(b.F,1),d=new NHd;W(d,1,c);this.H.Hj(d).then(function(c){(c=c.Hj())&&3==c.getState()&&WMd(a,b.Ib(),c)})};function aNd(){A.call(this)}q(aNd,Zz);aNd.prototype.C=function(){return JMd};eA("dataconnector",aNd);
