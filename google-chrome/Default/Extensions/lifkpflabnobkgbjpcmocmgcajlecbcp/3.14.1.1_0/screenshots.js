(function(){function e(e){e||(e={}),this.groupName=e.groupName||"pics",this.itemPrefix=e.itemPrefix||"pic",this.srcPrefix=e.srcPrefix||"",this.items=[]}e.prototype.getBaseNode=function(){var e=document.createElement("div");return e.className="pic-gallery-item",e.innerHTML='<input type="radio"><label><img></label><figure><figcaption></figcaption><label><img></label></figure>',e.querySelector("input[type=radio]").name=this.groupName,e},e.prototype.addItem=function(e,t,r){if(!t)throw Error("addItem: Argument img_src is required!");this.items.push({src:t,thumb:r,caption:e})},e.prototype.getToggleButton=function(){var e=document.createElement("label");return e.htmlFor=this.getTogglerID(),e},e.prototype.getTogglerID=function(){return"pic-gallery-close-"+this.groupName},e.prototype.renderAsDialog=function(){var e=document.createDocumentFragment(),t=this.render(),r=this.getToggleButton();r.className+=" pic-gallery-close",r.textContent="Back",t.appendChild(r);var n=document.createElement("input");n.id=this.getTogglerID(),n.type="checkbox",n.className="pic-gallery-toggler";var i=document.createElement("div");return i.className="pic-gallery-toggle",i.appendChild(t),e.appendChild(n),e.appendChild(i),e},e.prototype.render=function(){var e=document.createElement("div");e.className="pic-gallery-container";var t=document.createElement("div");t.className="pic-gallery-wrapper";for(var r=this.getBaseNode(),n=this.items.length,i=0;n>i;i++){var o=this.items[i],c=r.cloneNode(!0);c.querySelector("label").htmlFor=c.querySelector("input[type=radio]").id=this.itemPrefix+i,c.querySelector("label img").src=this.srcPrefix+(o.thumb||o.src),c.querySelector("figure label").htmlFor=this.itemPrefix+(i+1)%n,c.querySelector("figure img").src=this.srcPrefix+o.src,c.querySelector("figcaption").textContent=o.caption,0===i&&(c.querySelector("input[type=radio]").defaultChecked=!0),t.appendChild(c)}if(e.appendChild(t),null===e.onselectstart&&(e.onselectstart=function(){return!1}),void 0===e.onselectstart&&""===e.unselectable){var l=e.querySelectorAll("*");for(i=0;l.length>i;i++)l[i].setAttribute("unselectable","on");e.setAttribute("unselectable","on")}return this.addEventListeners(e,t),e},e.prototype.addEventListeners=function(e,t){for(var r=function(){if(this.checked){this.focus();var r,n=t.getBoundingClientRect(),i=this.nextSibling.getBoundingClientRect();(r=n.top-i.top)>0?t.scrollTop-=r:(r=i.bottom-n.bottom)>0&&(t.scrollTop+=r);var o=/WebKit\/(\d+(\.\d+)?)/.exec(navigator.userAgent);o&&535.1>o[1]&&(e.className+="")}},n=e.querySelectorAll("input[type=radio]"),i=0;n.length>i;i++)n[i].addEventListener("change",r)},function(){var t=document.getElementById("showScreenshots");if(!t)return"object"==typeof console&&console.log("Screenshot link not found"),void 0;var r=new e({groupName:"pics",itemPrefix:"pic",srcPrefix:"https://robwu.nl/lyricshere/screenshots/"});r.addItem("Lyrics Here on Internet Explorer","ieyoutubelyricspanel.png"),r.addItem("Auto-detection of the song's name and artist","fetchinglyrics.png"),r.addItem("Lyrics can be dragged anywhere","safaridragpanel.png"),r.addItem("Find a phrase within lyrics (double-click on lyrics to get the find bar)","iesearchinlyrics.png"),r.addItem("Customize the use and order of the sources","friendlypreferences.png"),r.addItem("Lyrics for Spotify's Web Player","spotifywebwithlyrics.png"),r.addItem("Not found? Recovery is easy!","lyricsnotfound.png"),r.addItem("Click on the button below the video to show the panel","youtubelyricsminimized.png"),r.addItem("Toggle lyrics via the icon in the omnibar (Chrome only)","chromepageaction.png"),r.addItem("Activate lyrics for supported sites via the omnibox (Chrome only)","chromenewpermission.png"),r.addItem("Are you ready to sing along?","youtubevideofloatinglyrics.png");var n=function(){document.body.appendChild(r.renderAsDialog());var e=document.getElementById(r.getTogglerID());e.checked=!0,n=function(){for(var t=document.querySelectorAll('#main,a[href="#top"]'),r=0;t.length>r;r++)t[r].style.display=e.checked?"none":"";e.checked&&document.querySelector("input[type=radio]:checked").focus()},n(),e.addEventListener("change",n)},i=r.getToggleButton();i.className="toggle-screenshots-gallery",i.innerHTML='<input type="button" value="Show screenshots">',i.addEventListener("click",function o(e){i.removeEventListener("click",o),n(),e.preventDefault()}),t.parentNode.replaceChild(i,t)}()})();